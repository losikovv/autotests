task selgrosSmoke(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/smoke/selgros.xml'
        includeGroups 'smoke'
    }
    environment 'P_ENV', 'selgros-preprod'
}

task selgrosRegression(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/regress/selgros.xml'
        includeGroups 'regression'
    }
    environment 'P_ENV', 'selgros-preprod'
}

task businessSmoke(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/smoke/business.xml'
        includeGroups 'smoke'
    }
    environment 'P_ENV', 'business-preprod'
    systemProperty 'qase.Project', 'B2B'
    systemProperty 'qase.Title', 'B2B UI Smoke'
}

task businessRegression(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/regress/business.xml'
        includeGroups 'regression'
    }
    environment 'P_ENV', 'business-preprod'
    systemProperty 'qase.Project', 'B2B'
    systemProperty 'qase.Title', 'B2B UI Regression'
}

task businessUiCustom(type: Test) {
    def CI_GROUP = System.getenv('CI_GROUP')

    if (CI_GROUP == null) {
        println('U miss CI_GROUP')
        return
    }
    useTestNG() {
        suites "src/test/resources/suite/regress/business.xml"
        includeGroups CI_GROUP
        threadCount System.getenv('B2B_FORWARD').startsWith('s-sb-stf') ? 6 : 3
    }
    environment 'P_ENV', 'business-custom'
}

task partnersUiCustom(type: Test) {
    def CI_GROUP = System.getenv('CI_GROUP')

    if (CI_GROUP == null) {
        println('U miss CI_GROUP')
        return
    }
    useTestNG() {
        suites "src/test/resources/suite/regress/hr_partners.xml"
        includeGroups CI_GROUP
        threadCount 3
    }
    environment 'P_ENV', 'hr_ops_partners-custom'
    systemProperty 'qase.Project', 'PM'
    systemProperty 'qase.Title', 'PM UI Regression'
}