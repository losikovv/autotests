task selgrosSmoke(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/smoke/selgros.xml'
        includeGroups 'smoke'
    }
    environment 'P_ENV', 'selgros-preprod'
}

task selgrosRegression(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/regress/selgros.xml'
        includeGroups 'regression'
    }
    environment 'P_ENV', 'selgros-preprod'
}

task businessSmoke(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/smoke/business.xml'
        includeGroups 'smoke'
    }
    environment 'P_ENV', 'business-preprod'
    environment 'PROJECT_ID', 'B2B'
    environment 'TEST_RUN_NAME', 'B2B UI Smoke'
}

task businessRegression(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/regress/business.xml'
        includeGroups 'regression'
    }
    environment 'P_ENV', 'business-preprod'
    environment 'PROJECT_ID', 'B2B'
    environment 'TEST_RUN_NAME', 'B2B UI Regression'
}

task businessUiCustom(type: Test) {
    def CI_GROUP = System.getenv('CI_GROUP')
    def THREAD_COUNT = System.getenv('B2B_FORWARD')

    if (CI_GROUP == null) {
        println('U miss CI_GROUP')
        return
    }
    useTestNG() {
        suites "src/test/resources/suite/regress/business.xml"
        includeGroups CI_GROUP
        threadCount THREAD_COUNT == null ? 3 : 6
    }
    environment 'P_ENV', 'business-custom'
}
