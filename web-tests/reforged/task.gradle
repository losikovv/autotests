task autoMr(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/mr.xml'
        includeGroups 'MRAutoCheck'
    }
}

task debug(type: Test) {
    useTestNG() {
        options {
            listeners.add("ru.instamart.reforged.core.listener.UiExecutionListener")
            listeners.add("ru.instamart.reforged.core.listener.UiListener")
        }
        suites 'src/test/resources/suite/debug.xml'
        includeGroups 'debug'
    }
}

task localRun(type: Test) {
    useTestNG() {
        options {
            listeners.add("ru.instamart.reforged.core.listener.UiExecutionListener")
            listeners.add("ru.instamart.reforged.core.listener.UiListener")
        }
    }
}

task ciRunUi(type: Test) {
    var String CI_GROUP = System.getenv('CI_GROUP')
    if (CI_GROUP != null) {
        useTestNG() {
            suites "src/test/resources/suite/all.xml"
            includeGroups CI_GROUP
        }
    } else {
        println('U miss CI_GROUP')
        return
    }
}