task adminUiSmoke(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/smoke/admin.xml'
        includeGroups 'smoke'
    }
    environment 'PROJECT_ID', 'SA'
    environment 'TEST_RUN_NAME', 'Admin UI Smoke'
}

task adminUiRegress(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/regress/admin.xml'
        includeGroups 'regression'
    }
    environment 'PROJECT_ID', 'SA'
    environment 'TEST_RUN_NAME', 'Admin UI Regression'
}


task uiAdminSmokeProduction(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/smoke/admin-prod.xml'
        includeGroups 'prod_admin_smoke'
    }
    environment 'P_ENV', "sbermarket-production"
    environment 'PROJECT_ID', 'STF'
    environment 'TEST_RUN_NAME', 'Admin UI Production Smoke'
}

task adminKeycloak(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/submodule/admin-keycloak.xml'
        includeGroups 'admin_keycloak'
    }
    environment 'ADMIN_URL', 'https://stf-kraken-admin.k-stage.sbmt.io/'
    environment 'PROJECT_ID', 'CS'
    environment 'TEST_RUN_NAME', 'STF admin keycloak tests'
}

task adminKeycloakProd(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/submodule/admin-keycloak.xml'
        includeGroups 'prod_admin_smoke'
    }
    environment 'P_ENV', "sbermarket-production"
    environment 'PROJECT_ID', 'CS'
    environment 'TEST_RUN_NAME', 'STF admin keycloak tests'
}

task adminOnDemandSmoke(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/submodule/admin-on-demand.xml'
        includeGroups 'admin_ondemand_smoke'
    }
    environment 'ADMIN_URL', 'https://stf-6.k-stage.sbermarket.tech/'
    environment 'URL_STF_BACKEND', 'stf-6.k-stage.sbermarket.tech'
    environment 'URL_SHP', 'shp-6.k-stage.sbermarket.tech'
    environment 'SHP_NAMESPACE', 'paas-content-shopper-6'
    environment 'SHP_LABEL', 'app.kubernetes.io/component=pg-exporter'
    systemProperty 'service', 'paas-content-operations-shifts'
    environment 'PROJECT_ID', 'SA'
    environment 'TEST_RUN_NAME', 'On-Demand Admin Smoke'
}

task adminOnDemandRegress(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/submodule/admin-on-demand.xml'
        includeGroups 'admin_ondemand_regression'
    }
    environment 'ADMIN_URL', 'https://stf-6.k-stage.sbermarket.tech/'
    environment 'URL_STF_BACKEND', 'stf-6.k-stage.sbermarket.tech'
    environment 'URL_SHP', 'shp-6.k-stage.sbermarket.tech'
    environment 'SHP_NAMESPACE', 'paas-content-shopper-6'
    environment 'SHP_LABEL', 'app.kubernetes.io/component=pg-exporter'
    systemProperty 'service', 'paas-content-operations-shifts'
    environment 'PROJECT_ID', 'SA'
    environment 'TEST_RUN_NAME', 'On-Demand Admin Regress'
}

task adminUiCustom(type: Test) {
    def CI_GROUP = System.getenv('CI_GROUP')

    if (CI_GROUP == null) {
        println('U miss CI_GROUP')
        return
    }
    useTestNG() {
        suites "src/test/resources/suite/regress/admin.xml"
        includeGroups CI_GROUP
    }
}