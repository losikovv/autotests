{
  "openapi": "3.0.1",
  "info": {
    "title": "Sbermarket API",
    "version": "v2"
  },
  "paths": {
    "/v2/app_configuration": {
      "get": {
        "summary": "Получение настроек приложения",
        "tags": [
          "AppConfigurations"
        ],
        "responses": {
          "200": {
            "description": "Список получен",
            "examples": {
              "application/json": {
                "app_configuration": {
                  "acquiring": {
                    "cloudpayments": "key",
                    "sber": "sber_public_key",
                    "authorize_amount": 11
                  },
                  "authentication": {
                    "cipher_key_phone": "Qqh79BpFGPpEWpdsNsZDwHgo65Xa5LHy53ahcN9caHM="
                  },
                  "privacy_terms_link": "https://instamart.ru/docs/privacy_terms_processing_policy.pdf",
                  "contacts": {
                    "phone": "tel:89998887766",
                    "email": "mailto:",
                    "telegram": "",
                    "whatsapp": ""
                  },
                  "about_links": {
                    "faq": null,
                    "rules": null,
                    "terms": null,
                    "personal_data_processing_policy": null,
                    "sberprime_faq": null,
                    "installment_plan_terms": null
                  },
                  "app_review": {
                    "mode": null,
                    "review_request_interval": null,
                    "review_interval_crash": null,
                    "review_interval_network_error": null,
                    "app_store_review_link": null,
                    "google_play_review_link": null,
                    "app_gallery_review_link": null
                  },
                  "app_versions": {
                    "ios": {
                      "min": null,
                      "recommended": null
                    },
                    "android": {
                      "min": null,
                      "recommended": null
                    }
                  },
                  "analytics_url": {
                    "ios": null,
                    "android": null
                  },
                  "analytics_key": {
                    "ios": null,
                    "android": null
                  },
                  "web_view_whitelist": [
                    "sbermarket.ru"
                  ]
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "app_configuration": {
                      "$ref": "#/components/schemas/app_configuration"
                    }
                  },
                  "required": [
                    "app_configuration"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/cities": {
      "get": {
        "summary": "Получить список городов",
        "tags": [
          "Cities"
        ],
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "schema": {
              "type": "string",
              "minLength": 2,
              "maxLength": 255
            },
            "description": "Подстрока для поиска в названии города"
          },
          {
            "name": "with_pickup",
            "in": "query",
            "schema": {
              "type": "integer",
              "enum": [
                0,
                1
              ]
            },
            "default": 0,
            "description": "Фильтровать по городам где доступен самовывоз"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "example": 1,
            "default": 1,
            "description": "Номер запрашиваемой порции данных"
          },
          {
            "name": "per_page",
            "in": "query",
            "default": 10,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Лимит возвращаемых городов"
          }
        ],
        "responses": {
          "200": {
            "description": "Получение списка городов",
            "examples": {
              "application/json": {
                "cities": [
                  {
                    "id": 139,
                    "name": "Москонь"
                  }
                ],
                "meta": {
                  "current_page": 1,
                  "next_page": null,
                  "total_pages": 1,
                  "per_page": 10,
                  "total_count": 1
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "cities",
                    "meta"
                  ],
                  "properties": {
                    "cities": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": [
                          "id",
                          "name"
                        ],
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Идентификатор города",
                            "example": 2,
                            "minimum": 1,
                            "maximum": 2147483648,
                            "format": "integer32"
                          },
                          "name": {
                            "type": "string",
                            "description": "Название города",
                            "example": "Москва",
                            "maxLength": 255
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "required": [
                        "current_page",
                        "next_page",
                        "total_pages",
                        "per_page",
                        "total_count"
                      ],
                      "properties": {
                        "current_page": {
                          "type": "integer",
                          "format": "integer32",
                          "minimum": 1,
                          "example": 1,
                          "description": "Номер текущей страницы"
                        },
                        "next_page": {
                          "type": "integer",
                          "example": 2,
                          "description": "Номер следующей страницы",
                          "format": "integer32",
                          "nullable": true
                        },
                        "total_pages": {
                          "type": "integer",
                          "format": "integer32",
                          "example": 2,
                          "minimum": 0,
                          "description": "Страниц всего"
                        },
                        "per_page": {
                          "type": "integer",
                          "format": "integer32",
                          "minimum": 1,
                          "example": 10,
                          "default": 10,
                          "description": "Количество записей на страницу"
                        },
                        "total_count": {
                          "type": "integer",
                          "format": "integer32",
                          "minimum": 0,
                          "example": 19,
                          "description": "Итоговое количество записей подходящих под выбранный фильтр"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Ошибка в случае keyword менее 2 символов",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "keyword должен состоять из 2 или более символов"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "keyword должен состоять из 2 или более символов",
                    "human_message": "keyword должен состоять из 2 или более символов"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errors/V2ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/company_presence": {
      "get": {
        "summary": "Получить данные по уже добавленной компании",
        "tags": [
          "Companies"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "inn",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "ИНН компании",
            "example": "5138082206"
          }
        ],
        "responses": {
          "200": {
            "description": "Получение данных по запрошенной компании",
            "examples": {
              "application/json": {
                "company": null
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "company": {
                      "$ref": "#/components/schemas/company_credentials"
                    }
                  },
                  "required": [
                    "company"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/credit_cards/{credit_card_id}/sber_spasibo/balance": {
      "get": {
        "summary": "Запрос баланса бонусного счёта СберСпасибо",
        "tags": [
          "SberSpasibo"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "credit_card_id",
            "in": "path",
            "description": "Идентификатор карты",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Баланс бонусного счёта СберСпасибо",
            "examples": {
              "application/json": {
                "amount": 18
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Нет прав на получение состояния бонусного счёта",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Пользователь не может выполнить это действие"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Пользователь не может выполнить это действие",
                    "human_message": "Пользователь не может выполнить это действие"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errors/V2ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Карта не найдена",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Кредитная карта не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Кредитная карта не существует",
                    "human_message": "Кредитная карта не существует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errors/V2ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Не удалось получить состояние бонусоного счёта",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Пока бонусы видно в СберБанк Онлайн"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Пока бонусы видно в СберБанк Онлайн",
                    "human_message": "Пока бонусы видно в СберБанк Онлайн"
                  }
                ],
                "data": {
                  "error_code": "not_authorized"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errors/V2ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/current_time": {
      "get": {
        "summary": "Текущее серверное время",
        "tags": [
          "CurrentServerTime"
        ],
        "responses": {
          "200": {
            "description": "Получение серверного времени",
            "examples": {
              "application/json": {
                "current_time": "2022-02-02T12:23:07+03:00"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "current_time": {
                      "type": "string",
                      "description": "Текущее серверное время",
                      "example": "2021-05-13T10:24:23+03:00"
                    }
                  },
                  "required": [
                    "current_time"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/external_partners/services": {
      "get": {
        "summary": "Получение списка подписок пользователя",
        "tags": [
          "ExternalPartners"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Список подписок получен",
            "examples": {
              "application/json": {
                "services": [
                  {
                    "id": 1,
                    "name": "SberPrime",
                    "kind": "sber_prime",
                    "text": "Бесплатная доставка",
                    "description": "при заказе из любого магазина",
                    "link": "https://sberbank.ru/sms/prime?utm_source=sbermarket&utm_medium=profileapp_authorized&utm_campaign=prime",
                    "logo_url": "/external_partners/services/1/original/service_sberprime_logo_4x.png?1643793679",
                    "discount_type": "free_delivery",
                    "subscription": {
                      "id": 1,
                      "active": true,
                      "begins_date": "2020-01-01T13:12:34.000+03:00",
                      "expired_date": "2022-02-03T12:23:07.000+03:00",
                      "packet_name": "prime_basic"
                    },
                    "promo_discount": {
                      "text": "Скидка 10% на товары в специальной категории",
                      "promocode": "PRIME",
                      "description": {
                        "title": "Скидка 10%",
                        "text": "на товары в специальной категории"
                      }
                    }
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "services": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/external_partners_service"
                      }
                    }
                  },
                  "required": [
                    "services"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/favorites_list/products_sku": {
      "get": {
        "summary": "Получить список SKU избранных товаров",
        "tags": [
          "FavoritesList"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Список SKU избранных товаров",
            "examples": {
              "application/json": {
                "products_sku": [
                  "20097"
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "products_sku": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "00000000123"
                      }
                    }
                  },
                  "required": [
                    "products_sku"
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Добавить товар в список избранных по SKU",
        "tags": [
          "FavoritesList"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [

        ],
        "responses": {
          "200": {
            "description": "Товар добавлен в список",
            "content": {
            }
          },
          "422": {
            "description": "Невозможно добавить товар в список",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sku": {
                    "type": "string",
                    "description": "sku товара",
                    "example": "00000000123"
                  }
                },
                "required": [
                  "sku"
                ]
              }
            }
          }
        }
      }
    },
    "/v2/favorites_list/products_sku/{sku}": {
      "delete": {
        "summary": "Удалить товар из списка избранных по SKU",
        "tags": [
          "FavoritesList"
        ],
        "parameters": [
          {
            "name": "sku",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Товар удалён из списка избранных",
            "content": {
            }
          },
          "404": {
            "description": "Товар с указанным SKU отсутствует в списке избранных",
            "content": {
            },
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Избранное не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Избранное не существует",
                    "human_message": "Избранное не существует"
                  }
                ]
              }
            }
          }
        }
      }
    },
    "/v2/feature_flags": {
      "get": {
        "summary": "Получение списка фиче-флагов",
        "tags": [
          "FeatureFlags"
        ],
        "description": "Список публичных фиче-флагов",
        "security": [
          {
            "none": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Список получен",
            "examples": {
              "application/json": {
                "feature_flags": [
                  {
                    "name": "top_carousel_image_banner",
                    "enabled": true
                  },
                  {
                    "name": "new_recommendations_main_page",
                    "enabled": true
                  },
                  {
                    "name": "new_recommendations_not_found_page",
                    "enabled": true
                  },
                  {
                    "name": "new_recommendations_product_card",
                    "enabled": true
                  },
                  {
                    "name": "shipment_status_polling_v2",
                    "enabled": true
                  },
                  {
                    "name": "new_category_banners_store",
                    "enabled": true
                  },
                  {
                    "name": "transfer_session",
                    "enabled": true
                  },
                  {
                    "name": "transfer_cart",
                    "enabled": true
                  },
                  {
                    "name": "prereplacements",
                    "enabled": true
                  },
                  {
                    "name": "show_only_available_delivery_windows_on_checkout",
                    "enabled": true
                  },
                  {
                    "name": "fetch_menu_categories_initially",
                    "enabled": true
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "feature_flags": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/feature_flag"
                      }
                    }
                  },
                  "required": [
                    "feature_flags"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/feature_flags/{name}": {
      "get": {
        "summary": "Получение фиче-флага",
        "tags": [
          "FeatureFlags"
        ],
        "security": [
          {
            "none": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Ключ фича флага",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Фиче-флаг получен",
            "examples": {
              "application/json": {
                "feature_flag": {
                  "name": "test_feature",
                  "enabled": true
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "feature_flag": {
                      "$ref": "#/components/schemas/feature_flag"
                    }
                  },
                  "required": [
                    "feature_flag"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/hde/webhooks": {
      "post": {
        "summary": "Отправка вебхука из HelpDeskEddy",
        "tags": [
          "Webhooks"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ]
          }
        ],
        "parameters": [

        ],
        "responses": {
          "200": {
            "description": "Вебхук обработан",
            "examples": {
              "application/json": null
            },
            "content": {
            }
          },
          "422": {
            "description": "Ошибка обработки вебхука",
            "examples": {
              "application/json": {
                "errors": [

                ]
              }
            },
            "content": {
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "Тип вебхука",
                    "example": "payment_failure_ticket.completed",
                    "maxLength": 255
                  },
                  "payload": {
                    "type": "object",
                    "description": "Параметры вебхука",
                    "example": {
                      "ticket_id": "123"
                    }
                  }
                },
                "required": [
                  "type",
                  "payload"
                ]
              }
            }
          }
        }
      }
    },
    "/v2/instacoin_account": {
      "get": {
        "summary": "Проверить бонусный счет",
        "tags": [
          "InstacoinAccount"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Бонусный счет получен",
            "examples": {
              "application/json": {
                "instacoin_account": {
                  "amount": 0.0,
                  "terms": [
                    {
                      "emoji": "💰",
                      "icon_url": null,
                      "html": "Ими можно оплатить 30% заказа, но не более 5000&nbsp;₽."
                    },
                    {
                      "emoji": "🔥",
                      "icon_url": null,
                      "html": "Сгорают через 30 дней."
                    }
                  ],
                  "rules_link": "https://sbermarket.ru/mobile_pages/referrals_rules"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "instacoin_account": {
                      "$ref": "#/components/schemas/instacoin_account"
                    }
                  },
                  "required": [
                    "instacoin_account"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/legal_entity": {
      "get": {
        "summary": "Получить данные по юридическому лицу или ИП",
        "tags": [
          "Legal Entities"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "inn",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "ИНН компании",
            "example": "6663003127"
          }
        ],
        "responses": {
          "200": {
            "description": "Данные о юридическом лице или ИП по указанному ИНН",
            "examples": {
              "application/json": {
                "legal_entity": {
                  "address": "620144, г Екатеринбург, ул Народной воли, стр 19А",
                  "kpp": "667101001",
                  "name": "АО \"ПФ \"СКБ КОНТУР\""
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "legal_entity": {
                      "$ref": "#/components/schemas/legal_entity"
                    }
                  },
                  "required": [
                    "legal_entity"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Данные по компании не найдены",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Информация о компании не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Информация о компании не существует",
                    "human_message": "Информация о компании не существует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/shipments/{shipment_number}/line_items/merge": {
      "post": {
        "summary": "Дозаказ одного продукта",
        "tags": [
          "Merge"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "shipment_number",
            "in": "path",
            "description": "Номер шимпента",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успех",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20112",
                  "total": 3490.0
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "order": {
                      "type": "object",
                      "properties": {
                        "number": {
                          "type": "string",
                          "description": "Номер заказа"
                        },
                        "total": {
                          "type": "number",
                          "description": "Полная сумма заказа"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Запрещено (шипмент не того пользователя)",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Доставка не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Доставка не существует",
                    "human_message": "Доставка не существует"
                  }
                ]
              }
            },
            "content": {
            }
          },
          "400": {
            "description": "Ошибка валидации - неправильное тело запроса",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Отсутствует обязательный параметр 'line_item'"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Отсутствует обязательный параметр 'line_item'",
                    "human_message": "Отсутствует обязательный параметр 'line_item'"
                  }
                ]
              }
            },
            "content": {
            }
          },
          "422": {
            "description": "Ошибка валидации - дозаказ невозможен",
            "examples": {
              "application/json": {
                "errors": {
                  "invalid_shipment_state_shipping": "Заказ в пути. Можно оставить товар в корзине — если захотите добавить к следующему заказу",
                  "shipping_category_id": "Категории доставки не совпадают или в дозаказе участвует алкоголь"
                },
                "error_messages": [
                  {
                    "field": "shipping_category_id",
                    "message": "Категории доставки не совпадают или в дозаказе участвует алкоголь",
                    "human_message": "Категории доставки не совпадают или в дозаказе участвует алкоголь"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/error"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "line_item": {
                    "type": "object",
                    "properties": {
                      "product_id": {
                        "type": "integer",
                        "description": "Идентификатор продукта (оффера) для добавления"
                      },
                      "quantity": {
                        "type": "integer",
                        "description": "Количество единиц"
                      }
                    },
                    "required": [
                      "product_id",
                      "quantity"
                    ]
                  }
                },
                "required": [
                  "line_item"
                ]
              }
            }
          }
        }
      }
    },
    "/v2/loyalties/{loyalty_id}/balance": {
      "get": {
        "summary": "Запрос баланса бонусного счёта",
        "tags": [
          "LoyaltyBalance"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "loyalty_id",
            "in": "path",
            "description": "Идентификатор лояльности",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Баланс бонусного счёта СберСпасибо",
            "examples": {
              "application/json": {
                "amount": 100
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Loyalty ответил с ошибкой",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ошибка при получении баланса: failed"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ошибка при получении баланса: failed",
                    "human_message": "Ошибка при получении баланса: failed"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "example": {
                        "base": "Ошибка при получении баланса: failed"
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "description": "Список детально описанных ошибок",
                      "example": [

                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/loyalties": {
      "get": {
        "summary": "Запрос списка доступных лояльностей",
        "tags": [
          "LoyaltiesList"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Список доступных лояльностей",
            "examples": {
              "application/json": {
                "loyalties": [
                  {
                    "status": "registered",
                    "id": "sber_loyalty"
                  },
                  {
                    "status": "not_registered",
                    "id": "some_loyalty"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "loyalties": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "status": {
                            "type": "string"
                          },
                          "id": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Loyalty ответил с ошибкой",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ошибка при получении списка лояльностей"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ошибка при получении списка лояльностей",
                    "human_message": "Ошибка при получении списка лояльностей"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "example": {
                        "base": "Ошибка при получении списка лояльностей"
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "description": "Список детально описанных ошибок",
                      "example": [

                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/orders/{order_number}/loyalties/{loyalty_id}/limits": {
      "get": {
        "summary": "Запрос лимитов бонусов для заказа",
        "tags": [
          "LoyaltyOrderLimits"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "order_number",
            "in": "path",
            "description": "Номер заказа",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "loyalty_id",
            "in": "path",
            "description": "Идентификатор лояльности",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Лимиты бонусов для заказа",
            "examples": {
              "application/json": null
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "min_amount": {
                      "type": "integer"
                    },
                    "max_amount": {
                      "type": "integer"
                    },
                    "max_percent": {
                      "type": "number",
                      "format": "float"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Loyalty ответил с ошибкой",
            "examples": {
              "application/json": null
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "example": {
                        "base": "Ошибка при получении баланса"
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "description": "Список детально описанных ошибок",
                      "example": [

                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/loyalties/sber_loyalty_info": {
      "get": {
        "summary": "Запрос информации о лояльности СберЛоялти",
        "tags": [
          "SberLoyaltyInfo"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Информация о лояльности СберЛоялти",
            "examples": {
              "application/json": {
                "registered": {
                  "title": "Registered",
                  "description": "Info in case of user is registered in loyalty",
                  "button_title": "Registered button title",
                  "banners": [
                    {
                      "icon": "URL",
                      "title": "STRING",
                      "description": "String"
                    },
                    {
                      "icon": "URL",
                      "title": "STRING",
                      "description": "String"
                    },
                    {
                      "icon": "URL",
                      "title": "STRING",
                      "description": "String"
                    }
                  ],
                  "urls": {
                    "personal_agreement_url": "https://exmaple.com/registered_personal_agreement_url",
                    "marketing_agreement_url": "https://exmaple.com/registered_marketing_agreement_url",
                    "how_to_url": "https://exmaple.com/registered_personal_agreement_url"
                  }
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "registered": {
                      "type": "object",
                      "properties": {
                        "title": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "button_title": {
                          "type": "string"
                        },
                        "banners": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "icon": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Ошибка при формировании информации о лояльности",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ошибка получения информации о лояльности"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ошибка получения информации о лояльности",
                    "human_message": "Ошибка получения информации о лояльности"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "example": {
                        "base": "Ошибка получения информации о лояльности"
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "description": "Список детально описанных ошибок",
                      "example": [

                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/notifications": {
      "post": {
        "summary": "Проверяет оплату в Sber SuperApp",
        "tags": [
          "SberApp"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ]
          }
        ],
        "parameters": [

        ],
        "responses": {
          "200": {
            "description": "Статус заказа изменён на `оплачен`",
            "examples": {
              "application/json": null
            },
            "content": {
            }
          },
          "400": {
            "description": "Отсутствуют обязательные поля в запросе",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Отсутствует обязательный параметр 'event'"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Отсутствует обязательный параметр 'event'",
                    "human_message": "Отсутствует обязательный параметр 'event'"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "example": {
                        "base": "Отсутствует обязательный параметр 'event'"
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "description": "Список детально описаных ошибок",
                      "example": [

                      ]
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "example": {
                        "base": "Клиент не авторизован"
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "description": "Список детально описаных ошибок",
                      "example": [

                      ]
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Невозможно обработать заказ",
            "examples": {
              "application/json": {
                "errors": {
                  "payload": "не может быть пустым"
                },
                "error_messages": [
                  {
                    "field": "payload",
                    "message": "не может быть пустым",
                    "human_message": "не может быть пустым"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "example": {
                        "payload": "не может быть пустым"
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "description": "Список детально описаных ошибок",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "example": "payload"
                          },
                          "message": {
                            "type": "string",
                            "description": "Сообщение об ошибке",
                            "example": "не может быть пустым"
                          },
                          "human_message": {
                            "type": "string",
                            "description": "Сообщение об ошибке на человеческом языке",
                            "example": "не может быть пустым"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "event": {
                    "type": "object",
                    "description": "Событие",
                    "properties": {
                      "type": {
                        "type": "string",
                        "description": "Тип события",
                        "example": "order.paid"
                      },
                      "payload": {
                        "allOf": [
                          {
                            "$ref": "#/components/schemas/notifications/OrderPaidEvent"
                          }
                        ]
                      },
                      "required": [
                        "type",
                        "payload"
                      ]
                    }
                  },
                  "required": [
                    "event"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/orders/{order_id}/clones": {
      "post": {
        "summary": "Повтор заказа",
        "tags": [
          "Orders"
        ],
        "description": "Повтор заказа",
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "description": "Идентификатор заказа",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Api-Version",
            "in": "header",
            "schema": {
              "type": "number",
              "enum": [
                "2.0",
                "2.1",
                "2.2"
              ]
            },
            "default": "2.0",
            "description": "Требуемая версия АПИ"
          }
        ],
        "responses": {
          "200": {
            "description": "Повторный заказ получен",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20140",
                  "total": 2963.4,
                  "item_count": 2,
                  "item_count_in_stock": 2,
                  "item_total": 2473.4,
                  "item_discount_total": 0.0,
                  "ship_total": 490.0,
                  "adjustment_total": 0.0,
                  "promo_total": 0.0,
                  "sber_spasibo_total": 0.0,
                  "shipment_state": null,
                  "shipping_method_kind": "pickup",
                  "payment_state": null,
                  "special_instructions": null,
                  "created_at": "2022-02-02T12:24:45.000+03:00",
                  "updated_at": "2022-02-02T12:24:45.000+03:00",
                  "completed_at": null,
                  "email": "test904@test.ru",
                  "uuid": "'1bc89d27-9b14-4407--95",
                  "total_weight": 1000,
                  "discounts": [

                  ],
                  "installment_plan": null,
                  "deliveries_info": null,
                  "address": {
                    "id": 11,
                    "first_name": "Ivan",
                    "last_name": "Fedorov",
                    "full_address": "Москва, 30th street, 56 c.3",
                    "city": "Москва",
                    "phone": "74951112233",
                    "street": "30th street",
                    "building": "56 c.3",
                    "block": "1",
                    "entrance": "1",
                    "floor": "1",
                    "apartment": null,
                    "comments": null,
                    "lat": 5.0,
                    "lon": 5.0,
                    "kind": null,
                    "door_phone": null,
                    "delivery_to_door": false
                  },
                  "payment": null,
                  "replacement_policy": null,
                  "shipments": [
                    {
                      "id": 5,
                      "number": "H14646470506",
                      "cost": 490.0,
                      "item_total": 2473.4,
                      "item_discount_total": 0.0,
                      "item_without_discount_total": 2473.4,
                      "total": 2963.4,
                      "state": "pending",
                      "alerts": [

                      ],
                      "promotions": [

                      ],
                      "next_deliveries": [

                      ],
                      "driver_name": null,
                      "driver_phone": null,
                      "total_weight": 1000,
                      "can_cancel": false,
                      "discounts": [

                      ],
                      "item_count": 2,
                      "item_count_in_stock": 2,
                      "checkout": true,
                      "delay": null,
                      "delivery_windows_limits": null,
                      "line_items": [
                        {
                          "id": 6,
                          "quantity": 1,
                          "packs": 1,
                          "price": 1236.7,
                          "total": 1236.7,
                          "promo_total": 0.0,
                          "discount": 0.0,
                          "customer_comment": null,
                          "product_in_stock": true,
                          "total_diff": 236.7,
                          "unit_price": 1236.7,
                          "unit_quantity": 0.5,
                          "uuid": "044c53a1-bcee-49b5-a8f8-dbb73f369ad8",
                          "product": {
                            "id": 6,
                            "sku": "20138",
                            "active": true,
                            "retailer_sku": "0000000042",
                            "name": "Product #46",
                            "price": 1236.7,
                            "original_price": 1236.7,
                            "discount": 0.0,
                            "human_volume": "100 г.",
                            "volume": 100.0,
                            "volume_type": "weight",
                            "items_per_pack": 1,
                            "discount_ends_at": null,
                            "price_type": "per_kilo",
                            "grams_per_unit": 500,
                            "unit_price": 1236.7,
                            "original_unit_price": 1236.7,
                            "promo_badge_ids": [

                            ],
                            "labels": [

                            ],
                            "score": null,
                            "score_details": {
                              "comment_count": null
                            },
                            "images": [

                            ],
                            "requirements": [

                            ]
                          }
                        },
                        {
                          "id": 5,
                          "quantity": 1,
                          "packs": 1,
                          "price": 1236.7,
                          "total": 1236.7,
                          "promo_total": 0.0,
                          "discount": 0.0,
                          "customer_comment": null,
                          "product_in_stock": true,
                          "total_diff": 236.7,
                          "unit_price": 1236.7,
                          "unit_quantity": 0.5,
                          "uuid": "48c85a24-3b68-488b-b77b-8f3b47cd14d5",
                          "product": {
                            "id": 5,
                            "sku": "20137",
                            "active": true,
                            "retailer_sku": "0000000041",
                            "name": "Product #45",
                            "price": 1236.7,
                            "original_price": 1236.7,
                            "discount": 0.0,
                            "human_volume": "100 г.",
                            "volume": 100.0,
                            "volume_type": "weight",
                            "items_per_pack": 1,
                            "discount_ends_at": null,
                            "price_type": "per_kilo",
                            "grams_per_unit": 500,
                            "unit_price": 1236.7,
                            "original_unit_price": 1236.7,
                            "promo_badge_ids": [

                            ],
                            "labels": [

                            ],
                            "score": null,
                            "score_details": {
                              "comment_count": null
                            },
                            "images": [

                            ],
                            "requirements": [

                            ]
                          }
                        }
                      ],
                      "shipping_team_members": [

                      ],
                      "requirements": [

                      ],
                      "delivery_window": {
                        "id": 5,
                        "starts_at": "2022-02-03T09:00:00.000+03:00",
                        "ends_at": "2022-02-03T12:00:00.000+03:00",
                        "weight_balance": 400000,
                        "items_count_balance": 300,
                        "kind": "courier",
                        "delivery_forecast_text": null,
                        "estimate_source": "one_hour_slot",
                        "estimate_minutes_min": 1236,
                        "estimate_minutes_max": 1416,
                        "lifetime": null,
                        "is_express_delivery": false
                      },
                      "retailer": {
                        "id": 5,
                        "name": "METRO558",
                        "slug": "metro558",
                        "color": "#003d7a",
                        "logo_background_color": "#003d7a",
                        "logo": "",
                        "available": true,
                        "environment": "production",
                        "retailer_agreement": {
                          "agreement_type": "oferta_b",
                          "url": "/oferta_b"
                        },
                        "appearance": null,
                        "requirements": [

                        ]
                      },
                      "external_partners_service": null,
                      "payment": null,
                      "on_demand_estimate": null,
                      "store": {
                        "id": 5,
                        "name": "METRO558, 84th street",
                        "uuid": "a4364199-e85b-4c5b-8b55-d394a235328a",
                        "location": {
                          "id": 5,
                          "full_address": "Москва, 84th street, 56 c.3",
                          "city": "Москва",
                          "street": "84th street",
                          "building": "56 c.3",
                          "lat": 5.0,
                          "lon": 5.0
                        }
                      }
                    }
                  ],
                  "promotion_codes": [

                  ],
                  "company": null
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "order": {
                      "$ref": "#/components/schemas/order"
                    }
                  },
                  "required": [
                    "order"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Повтор заказа недоступен. Возможные причины: <br />\nРитейлер недоступен: retailer_unavailable <br />\nМагазин не доставляет по адресу: delivery_to_address_from_store_unavailable <br />\nСамовывоз из магазина недоступен: pickup_store_unavailable <br />\nМагазин недоступен: store_unavailable\n",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Самовывоз из магазина не работает. Пожалуйста, выберите другой"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Самовывоз из магазина не работает. Пожалуйста, выберите другой",
                    "human_message": "Самовывоз из магазина не работает. Пожалуйста, выберите другой",
                    "type": "store_unavailable"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "retailer_unavailable",
                              "delivery_to_address_from_store_unavailable",
                              "pickup_store_unavailable",
                              "store_unavailable"
                            ],
                            "nullable": true
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/orders/{order_id}/company": {
      "patch": {
        "summary": "Привязка заказа к компании",
        "tags": [
          "Company"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "description": "Номер заказа",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "company_id",
            "in": "query",
            "required": true,
            "description": "Идентификатор компании",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Заказ успешно привязан к компании",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20145",
                  "total": 0,
                  "item_count": 0,
                  "item_count_in_stock": 0,
                  "item_total": 0,
                  "item_discount_total": 0,
                  "ship_total": 0,
                  "adjustment_total": 0,
                  "promo_total": 0,
                  "sber_spasibo_total": null,
                  "shipment_state": null,
                  "shipping_method_kind": "by_courier",
                  "payment_state": null,
                  "special_instructions": null,
                  "created_at": "2022-02-02T12:24:46.000+03:00",
                  "updated_at": "2022-02-02T12:24:46.000+03:00",
                  "completed_at": null,
                  "email": "test906@test.ru",
                  "uuid": "'1bc89d27-9b14-4407--98",
                  "total_weight": 0,
                  "discounts": [

                  ],
                  "installment_plan": null,
                  "deliveries_info": null,
                  "address": {
                    "id": 15,
                    "first_name": "Ivan",
                    "last_name": "Fedorov",
                    "full_address": "Москва, 32th street, 56 c.3",
                    "city": "Москва",
                    "phone": "74951112233",
                    "street": "32th street",
                    "building": "56 c.3",
                    "block": "1",
                    "entrance": "1",
                    "floor": "1",
                    "apartment": null,
                    "comments": null,
                    "lat": 5.0,
                    "lon": 5.0,
                    "kind": "office",
                    "door_phone": null,
                    "delivery_to_door": false
                  },
                  "payment": null,
                  "replacement_policy": null,
                  "shipments": [

                  ],
                  "promotion_codes": [

                  ],
                  "company": {
                    "id": 1,
                    "inn": "4919521977",
                    "name": "ACME corp"
                  }
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "order": {
                      "$ref": "#/components/schemas/order"
                    }
                  },
                  "required": [
                    "order"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Заказ не найден",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Заказ не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Заказ не существует",
                    "human_message": "Заказ не существует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "У заказа должен быть адрес доставки",
            "examples": {
              "application/json": {
                "errors": {
                  "company": "Пользователь не является представителем этой компании",
                  "order": "У заказа должен быть адрес доставки"
                },
                "error_messages": [
                  {
                    "field": "order",
                    "message": "У заказа должен быть адрес доставки",
                    "human_message": "У заказа должен быть адрес доставки"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "company": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        },
                        "order": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "order"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/orders/current": {
      "get": {
        "summary": "Показать текущий заказ",
        "tags": [
          "Orders"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Заказ получен",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20155",
                  "total": 1390.0,
                  "item_count": 1,
                  "item_count_in_stock": 1,
                  "item_total": 1000.0,
                  "item_discount_total": 0.0,
                  "ship_total": 490.0,
                  "adjustment_total": -100.0,
                  "promo_total": -100.0,
                  "sber_spasibo_total": 0.0,
                  "shipment_state": null,
                  "shipping_method_kind": "by_courier",
                  "payment_state": null,
                  "special_instructions": null,
                  "created_at": "2022-02-02T12:24:48.000+03:00",
                  "updated_at": "2022-02-02T12:24:48.000+03:00",
                  "completed_at": null,
                  "email": "test916@test.ru",
                  "uuid": "'1bc89d27-9b14-4407--107",
                  "total_weight": 500,
                  "discounts": [
                    {
                      "title": "Промокод",
                      "type": "promotion_code",
                      "amount": -100.0
                    }
                  ],
                  "installment_plan": null,
                  "deliveries_info": null,
                  "address": {
                    "id": 23,
                    "first_name": "Ivan",
                    "last_name": "Fedorov",
                    "full_address": "Москва, 39th street, 56 c.3",
                    "city": "Москва",
                    "phone": "74951112233",
                    "street": "39th street",
                    "building": "56 c.3",
                    "block": "1",
                    "entrance": "1",
                    "floor": "1",
                    "apartment": null,
                    "comments": null,
                    "lat": 5.0,
                    "lon": 5.0,
                    "kind": null,
                    "door_phone": null,
                    "delivery_to_door": false
                  },
                  "payment": {
                    "number": "WQ494K6U",
                    "state": "checkout",
                    "is_finalization_needed": false,
                    "finalization_url": null
                  },
                  "replacement_policy": {
                    "id": 6,
                    "description": "Не звонить мне. Подобрать замену"
                  },
                  "shipments": [
                    {
                      "id": 8,
                      "number": "H25605366762",
                      "cost": 490.0,
                      "item_total": 1000.0,
                      "item_discount_total": 0.0,
                      "item_without_discount_total": 1000.0,
                      "total": 1390.0,
                      "state": "pending",
                      "alerts": [

                      ],
                      "promotions": [

                      ],
                      "next_deliveries": [
                        {
                          "id": 8,
                          "store_id": null,
                          "price": 490.0,
                          "summary": "завтра 09:00–12:00",
                          "starts_at": "2022-02-03T09:00:00.000+03:00",
                          "ends_at": "2022-02-03T12:00:00.000+03:00",
                          "express_delivery": false,
                          "delivery_forecast_text": null,
                          "estimate_source": "one_hour_slot",
                          "estimate_minutes_min": 1236,
                          "estimate_minutes_max": 1416,
                          "kind": "courier"
                        }
                      ],
                      "driver_name": null,
                      "driver_phone": null,
                      "total_weight": 500,
                      "can_cancel": false,
                      "discounts": [
                        {
                          "title": "Промокод",
                          "type": "promotion_code",
                          "amount": -100.0
                        }
                      ],
                      "item_count": 1,
                      "item_count_in_stock": 1,
                      "checkout": true,
                      "delay": null,
                      "delivery_windows_limits": null,
                      "line_items": [
                        {
                          "id": 10,
                          "quantity": 1,
                          "packs": 1,
                          "price": 1000.0,
                          "total": 1000.0,
                          "promo_total": -100.0,
                          "discount": 0.0,
                          "customer_comment": null,
                          "product_in_stock": true,
                          "total_diff": 0.0,
                          "unit_price": 1000.0,
                          "unit_quantity": 0.5,
                          "uuid": "dfe67476-8027-48de-b18b-63b0b6fb66c7",
                          "product": {
                            "id": 10,
                            "sku": "20156",
                            "active": true,
                            "retailer_sku": "0000000046",
                            "name": "Product #50",
                            "price": 1000.0,
                            "original_price": 1000.0,
                            "discount": 0.0,
                            "human_volume": "100 г.",
                            "volume": 100.0,
                            "volume_type": "weight",
                            "items_per_pack": 1,
                            "discount_ends_at": null,
                            "price_type": "per_kilo",
                            "grams_per_unit": 500,
                            "unit_price": 1000.0,
                            "original_unit_price": 1000.0,
                            "promo_badge_ids": [

                            ],
                            "labels": [

                            ],
                            "score": null,
                            "score_details": {
                              "comment_count": null
                            },
                            "images": [

                            ],
                            "requirements": [

                            ]
                          }
                        }
                      ],
                      "shipping_team_members": [

                      ],
                      "requirements": [

                      ],
                      "shipment_merge_targets": [

                      ],
                      "delivery_window": {
                        "id": 8,
                        "starts_at": "2022-02-03T09:00:00.000+03:00",
                        "ends_at": "2022-02-03T12:00:00.000+03:00",
                        "weight_balance": 400000,
                        "items_count_balance": 300,
                        "kind": "courier",
                        "delivery_forecast_text": null,
                        "estimate_source": "one_hour_slot",
                        "estimate_minutes_min": 1236,
                        "estimate_minutes_max": 1416,
                        "lifetime": null,
                        "is_express_delivery": false
                      },
                      "retailer": {
                        "id": 8,
                        "name": "METRO567",
                        "slug": "metro567",
                        "color": "#003d7a",
                        "logo_background_color": "#003d7a",
                        "logo": "",
                        "available": true,
                        "environment": "production",
                        "retailer_agreement": {
                          "agreement_type": "oferta_b",
                          "url": "/oferta_b"
                        },
                        "appearance": null,
                        "requirements": [

                        ]
                      },
                      "external_partners_service": null,
                      "payment": {
                        "number": "WQ494K6U",
                        "state": "checkout",
                        "is_finalization_needed": false,
                        "finalization_url": null
                      },
                      "on_demand_estimate": null,
                      "store": {
                        "id": 10,
                        "name": "METRO567, 89th street",
                        "uuid": "d4c16f15-f505-4831-bfe0-12a5e75bc70f",
                        "location": {
                          "id": 10,
                          "full_address": "Москва, 89th street, 56 c.3",
                          "city": "Москва",
                          "street": "89th street",
                          "building": "56 c.3",
                          "lat": 5.0,
                          "lon": 5.0
                        }
                      },
                      "merge": null
                    }
                  ],
                  "promotion_codes": [
                    {
                      "value": "8fb3509a",
                      "description": null
                    }
                  ],
                  "company": null
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "order": {
                      "$ref": "#/components/schemas/order_for_additional_order"
                    }
                  },
                  "required": [
                    "order"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Не авторизован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
            }
          }
        }
      },
      "put": {
        "summary": "Обновить текущий заказ",
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "order_number",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "order_uuid",
            "in": "query",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Заказ обновлен",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20161",
                  "total": 1390.0,
                  "item_count": 1,
                  "item_count_in_stock": 1,
                  "item_total": 1000.0,
                  "item_discount_total": 0.0,
                  "ship_total": 490.0,
                  "adjustment_total": -100.0,
                  "promo_total": -100.0,
                  "sber_spasibo_total": 0.0,
                  "shipment_state": null,
                  "shipping_method_kind": "by_courier",
                  "payment_state": null,
                  "special_instructions": null,
                  "created_at": "2022-02-02T12:24:49.000+03:00",
                  "updated_at": "2022-02-02T12:24:50.000+03:00",
                  "completed_at": null,
                  "email": "test918@test.ru",
                  "uuid": "'1bc89d27-9b14-4407--111",
                  "total_weight": 500,
                  "discounts": [
                    {
                      "title": "Промокод",
                      "type": "promotion_code",
                      "amount": -100.0
                    }
                  ],
                  "installment_plan": null,
                  "deliveries_info": null,
                  "address": {
                    "id": 27,
                    "first_name": "Ivan",
                    "last_name": "Fedorov",
                    "full_address": "Москва, 41th street, 56 c.3",
                    "city": "Москва",
                    "phone": "74951112233",
                    "street": "41th street",
                    "building": "56 c.3",
                    "block": "1",
                    "entrance": "1",
                    "floor": "1",
                    "apartment": null,
                    "comments": null,
                    "lat": 5.0,
                    "lon": 5.0,
                    "kind": null,
                    "door_phone": null,
                    "delivery_to_door": false
                  },
                  "payment": {
                    "number": "EQ5VYSPU",
                    "state": "checkout",
                    "is_finalization_needed": false,
                    "finalization_url": null
                  },
                  "replacement_policy": {
                    "id": 8,
                    "description": "Не звонить мне. Подобрать замену"
                  },
                  "shipments": [
                    {
                      "id": 10,
                      "number": "H34742145164",
                      "cost": 490.0,
                      "item_total": 1000.0,
                      "item_discount_total": 0.0,
                      "item_without_discount_total": 1000.0,
                      "total": 1390.0,
                      "state": "pending",
                      "alerts": [

                      ],
                      "promotions": [

                      ],
                      "next_deliveries": [
                        {
                          "id": 10,
                          "store_id": null,
                          "price": 490.0,
                          "summary": "завтра 09:00–12:00",
                          "starts_at": "2022-02-03T09:00:00.000+03:00",
                          "ends_at": "2022-02-03T12:00:00.000+03:00",
                          "express_delivery": false,
                          "delivery_forecast_text": null,
                          "estimate_source": "one_hour_slot",
                          "estimate_minutes_min": 1236,
                          "estimate_minutes_max": 1416,
                          "kind": "courier"
                        }
                      ],
                      "driver_name": null,
                      "driver_phone": null,
                      "total_weight": 500,
                      "can_cancel": false,
                      "discounts": [
                        {
                          "title": "Промокод",
                          "type": "promotion_code",
                          "amount": -100.0
                        }
                      ],
                      "item_count": 1,
                      "item_count_in_stock": 1,
                      "checkout": true,
                      "delay": null,
                      "delivery_windows_limits": null,
                      "line_items": [
                        {
                          "id": 12,
                          "quantity": 1,
                          "packs": 1,
                          "price": 1000.0,
                          "total": 1000.0,
                          "promo_total": -100.0,
                          "discount": 0.0,
                          "customer_comment": null,
                          "product_in_stock": true,
                          "total_diff": 0.0,
                          "unit_price": 1000.0,
                          "unit_quantity": 0.5,
                          "uuid": "ba4bad79-b73a-410e-8bac-4d75fe249925",
                          "product": {
                            "id": 12,
                            "sku": "20162",
                            "active": true,
                            "retailer_sku": "0000000048",
                            "name": "Product #52",
                            "price": 1000.0,
                            "original_price": 1000.0,
                            "discount": 0.0,
                            "human_volume": "100 г.",
                            "volume": 100.0,
                            "volume_type": "weight",
                            "items_per_pack": 1,
                            "discount_ends_at": null,
                            "price_type": "per_kilo",
                            "grams_per_unit": 500,
                            "unit_price": 1000.0,
                            "original_unit_price": 1000.0,
                            "promo_badge_ids": [

                            ],
                            "labels": [

                            ],
                            "score": null,
                            "score_details": {
                              "comment_count": null
                            },
                            "images": [

                            ],
                            "requirements": [

                            ]
                          }
                        }
                      ],
                      "shipping_team_members": [

                      ],
                      "requirements": [

                      ],
                      "shipment_merge_targets": [

                      ],
                      "delivery_window": {
                        "id": 10,
                        "starts_at": "2022-02-03T09:00:00.000+03:00",
                        "ends_at": "2022-02-03T12:00:00.000+03:00",
                        "weight_balance": 400000,
                        "items_count_balance": 300,
                        "kind": "courier",
                        "delivery_forecast_text": null,
                        "estimate_source": "one_hour_slot",
                        "estimate_minutes_min": 1236,
                        "estimate_minutes_max": 1416,
                        "lifetime": null,
                        "is_express_delivery": false
                      },
                      "retailer": {
                        "id": 10,
                        "name": "METRO573",
                        "slug": "metro573",
                        "color": "#003d7a",
                        "logo_background_color": "#003d7a",
                        "logo": "",
                        "available": true,
                        "environment": "production",
                        "retailer_agreement": {
                          "agreement_type": "oferta_b",
                          "url": "/oferta_b"
                        },
                        "requirements": [

                        ]
                      },
                      "external_partners_service": null,
                      "payment": {
                        "number": "EQ5VYSPU",
                        "state": "checkout",
                        "is_finalization_needed": false,
                        "finalization_url": null
                      },
                      "on_demand_estimate": null,
                      "store": {
                        "id": 12,
                        "name": "METRO573, 91th street",
                        "uuid": "85915489-c9da-4776-8872-06a05b029e7d",
                        "location": {
                          "id": 12,
                          "full_address": "Москва, 91th street, 56 c.3",
                          "city": "Москва",
                          "street": "91th street",
                          "building": "56 c.3",
                          "lat": 5.0,
                          "lon": 5.0
                        }
                      },
                      "merge": null
                    }
                  ],
                  "promotion_codes": [
                    {
                      "value": "bd0b84b0",
                      "description": null
                    }
                  ],
                  "company": null
                },
                "meta": {
                  "order_changed": false
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "order": {
                      "$ref": "#/components/schemas/order_for_additional_order"
                    }
                  },
                  "required": [
                    "order"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/orders/{order_id}/personal_data_exchange_agreements": {
      "get": {
        "summary": "Получение списка соглашений",
        "tags": [
          "PersonalDataExchangeAgreements"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "description": "Идентификатор заказа",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список получен",
            "examples": {
              "application/json": {
                "personal_data_exchange_agreements": [
                  {
                    "id": 3,
                    "title": "title",
                    "disclaimer": "disclaimer"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "personal_data_exchange_agreements": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/personal_data_exchange_agreement"
                      }
                    }
                  },
                  "required": [
                    "personal_data_exchange_agreements"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Заказ в статусе complete",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Пользователь не может выполнить это действие"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Пользователь не может выполнить это действие",
                    "human_message": "Пользователь не может выполнить это действие"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "example": {
                        "base": "Пользователь не может выполнить это действие"
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "description": "Список детально описаных ошибок",
                      "example": [

                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/orders/{order_id}/transfer_method/losses": {
      "get": {
        "summary": "Получение возможных потерь при изменении адреса доставки",
        "tags": [
          "Orders"
        ],
        "description": "Получение возможных потерь при изменении адреса/способа доставки",
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "shipping_method_kind",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "by_courier",
                "by_courier_for_companies",
                "pickup"
              ]
            },
            "description": "Если передан pickup, то обязателен pickup_store_id. Если by_courier то обязателен address_params",
            "required": true
          },
          {
            "name": "pickup_store_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "address_params[address_id]",
            "in": "query",
            "required": false,
            "description": "При изменении адреса, нужны либо параметры адреса, либо идентификатор существующего адреса(можно передавать только для авторизованного пользователя, адрес должен принадлежать пользователю)",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "address_params[first_name]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[last_name]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[city]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[street]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[floor]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[business_center]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[elevator]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "address_params[region]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[pass]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[shipment_comment]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[building]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[block]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[settlement]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[area]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[apartment]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[comments]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[lat]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "address_params[lon]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "address_params[city_kladr_id]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[street_kladr_id]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[entrance]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[door_phone]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список получен",
            "examples": {
              "application/json": {
                "losses": [
                  {
                    "retailer": {
                      "id": 16,
                      "name": "METRO591",
                      "slug": "metro591",
                      "color": "#003d7a",
                      "logo_background_color": "#003d7a",
                      "logo": "",
                      "available": true,
                      "environment": "production",
                      "appearance": null,
                      "requirements": [

                      ]
                    },
                    "offers": [
                      {
                        "id": 15,
                        "sku": "20168",
                        "active": true,
                        "retailer_sku": "0000000051",
                        "name": "Product #55",
                        "price": 1236.7,
                        "original_price": 1236.7,
                        "discount": 0.0,
                        "human_volume": "100 г.",
                        "volume": 100.0,
                        "volume_type": "weight",
                        "items_per_pack": 1,
                        "discount_ends_at": null,
                        "price_type": "per_kilo",
                        "grams_per_unit": 500,
                        "unit_price": 1236.7,
                        "original_unit_price": 1236.7,
                        "promo_badge_ids": [

                        ],
                        "labels": [

                        ],
                        "score": null,
                        "score_details": {
                          "comment_count": null
                        },
                        "images": [

                        ],
                        "requirements": [

                        ]
                      },
                      {
                        "id": 14,
                        "sku": "20167",
                        "active": true,
                        "retailer_sku": "0000000050",
                        "name": "Product #54",
                        "price": 1236.7,
                        "original_price": 1236.7,
                        "discount": 0.0,
                        "human_volume": "100 г.",
                        "volume": 100.0,
                        "volume_type": "weight",
                        "items_per_pack": 1,
                        "discount_ends_at": null,
                        "price_type": "per_kilo",
                        "grams_per_unit": 500,
                        "unit_price": 1236.7,
                        "original_unit_price": 1236.7,
                        "promo_badge_ids": [

                        ],
                        "labels": [

                        ],
                        "score": null,
                        "score_details": {
                          "comment_count": null
                        },
                        "images": [

                        ],
                        "requirements": [

                        ]
                      }
                    ]
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "losses": {
                      "type": "array",
                      "description": "Товары, которые будут утеряны при изменении параметров получения товара",
                      "items": {
                        "type": "object",
                        "properties": {
                          "retailer": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 10
                              },
                              "name": {
                                "type": "string",
                                "description": "Наименование ритейлера",
                                "example": "Семерочка"
                              },
                              "slug": {
                                "type": "string",
                                "description": "Код ритейлера",
                                "example": "metro"
                              },
                              "color": {
                                "type": "string",
                                "example": "#ff0000"
                              },
                              "logo_background_color": {
                                "type": "string",
                                "example": "#ff0000"
                              },
                              "logo": {
                                "type": "string",
                                "description": "Логотип ритейлера",
                                "example": "https://stf-18.k-stage.sbermarket.tech/spree/retailer_logos/97342/default/auchan-logo.png?1536325973"
                              },
                              "available": {
                                "type": "boolean",
                                "example": true
                              },
                              "environment": {
                                "type": "string",
                                "example": "production",
                                "nullable": true
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                }
                              }
                            },
                            "required": [
                              "id",
                              "name",
                              "slug",
                              "color",
                              "logo_background_color",
                              "logo",
                              "available",
                              "environment",
                              "requirements"
                            ]
                          },
                          "offers": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "sku": {
                                  "type": "string",
                                  "example": "20002"
                                },
                                "active": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "retailer_sku": {
                                  "type": "string",
                                  "example": "0000000000"
                                },
                                "name": {
                                  "type": "string",
                                  "description": "Наименование позиции",
                                  "example": "Банан"
                                },
                                "price": {
                                  "type": "number",
                                  "example": 50.5
                                },
                                "original_price": {
                                  "type": "number",
                                  "example": 50.5
                                },
                                "discount": {
                                  "type": "number",
                                  "example": 0.0
                                },
                                "human_volume": {
                                  "type": "string",
                                  "example": "100 г."
                                },
                                "volume": {
                                  "type": "number",
                                  "description": "Количество",
                                  "example": 100.0
                                },
                                "volume_type": {
                                  "type": "string",
                                  "description": "Вид измерения",
                                  "example": "weight"
                                },
                                "items_per_pack": {
                                  "type": "integer",
                                  "description": "Количество штук в упаковке",
                                  "example": 1
                                },
                                "discount_ends_at": {
                                  "type": "string",
                                  "nullable": true,
                                  "example": "2020-10-19",
                                  "description": "Дата окончания скидки"
                                },
                                "price_type": {
                                  "type": "string",
                                  "example": "per_kilo",
                                  "description": "Единица измерения",
                                  "enum": [
                                    "per_item",
                                    "per_kilo",
                                    "per_pack",
                                    "per_package"
                                  ]
                                },
                                "grams_per_unit": {
                                  "type": "integer",
                                  "description": "Грамм в единице товара",
                                  "example": 500
                                },
                                "unit_price": {
                                  "type": "number",
                                  "description": "Стоимость единицы товара",
                                  "example": 50.5
                                },
                                "original_unit_price": {
                                  "type": "number",
                                  "description": "Стоимость единицы товара без скидок",
                                  "example": 50.5
                                },
                                "promo_badge_ids": {
                                  "type": "array",
                                  "items": {
                                  }
                                },
                                "images": {
                                  "type": "array",
                                  "items": {
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "example": "alcohol"
                                      },
                                      "title": {
                                        "type": "string",
                                        "example": "Алкоголь"
                                      }
                                    },
                                    "required": [
                                      "type",
                                      "title"
                                    ]
                                  }
                                }
                              },
                              "required": [
                                "id",
                                "sku",
                                "active",
                                "retailer_sku",
                                "name",
                                "price",
                                "original_price",
                                "discount",
                                "human_volume",
                                "volume",
                                "volume_type",
                                "items_per_pack",
                                "price_type",
                                "grams_per_unit",
                                "unit_price",
                                "original_unit_price",
                                "promo_badge_ids",
                                "images",
                                "requirements"
                              ]
                            }
                          }
                        },
                        "required": [
                          "retailer",
                          "offers"
                        ]
                      }
                    }
                  },
                  "required": [
                    "losses"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Ошибка параметров запроса",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Недопустимые параметры запроса: shipping_method_kind должно быть одним из: by_courier, by_courier_for_companies, pickup"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Недопустимые параметры запроса: shipping_method_kind должно быть одним из: by_courier, by_courier_for_companies, pickup",
                    "human_message": "Недопустимые параметры запроса: shipping_method_kind должно быть одним из: by_courier, by_courier_for_companies, pickup"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/orders/{order_id}/transfer_method/analyze": {
      "get": {
        "summary": "Получение кода возможных изменений с товаром для МП",
        "tags": [
          "Orders"
        ],
        "description": "Получение кода возможных изменений при изменении адреса/способа доставки",
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "shipping_method_kind",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "by_courier",
                "by_courier_for_companies",
                "pickup"
              ]
            },
            "description": "Если передан pickup, то обязателен pickup_store_id. Если by_courier то обязателен address_params",
            "required": true
          },
          {
            "name": "pickup_store_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "address_params[address_id]",
            "in": "query",
            "required": false,
            "description": "При изменении адреса, нужны либо параметры адреса, либо идентификатор существующего адреса(можно передавать только для авторизованного пользователя, адрес должен принадлежать пользователю)",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "address_params[first_name]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[last_name]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[city]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[street]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[floor]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[business_center]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[elevator]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "address_params[region]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[pass]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[shipment_comment]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[building]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[block]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[settlement]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[area]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[apartment]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[comments]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[lat]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "address_params[lon]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "address_params[city_kladr_id]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[street_kladr_id]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[entrance]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "address_params[door_phone]",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Результат проверки изменения адреса/способа доставки <br />Код ответа: <br/>  all_products_disappears: исчезнут все товары <br />  other_retailer_shipments_disappears: Исчезнут товары других ритейлеров  <br />  alcohol_disappears: Исчезнет алкоголь<br />  ok: Товары пересчитаются по остаткам (при этом могут быть потери)",
            "examples": {
              "application/json": {
                "result": "ok"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "result": {
                      "type": "string",
                      "description": "Код ответа: <br/>  all_products_disappears: исчезнут все товары <br />  other_retailer_shipments_disappears: Исчезнут товары других ритейлеров  <br />  alcohol_disappears: Исчезнет алкоголь<br />  ok: Товары пересчитаются по остаткам (при этом могут быть потери)",
                      "enum": [
                        "all_products_disappears",
                        "other_retailer_shipments_disappears",
                        "alcohol_disappears",
                        "ok"
                      ]
                    }
                  },
                  "required": [
                    "result"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Ошибка параметров запроса, возможны варианты поля type: <br /> store_unavailable - магазин не доступен для самовывоза<br /> null - ошибка параметров, или другая 422 ошибка ",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Недопустимые параметры запроса: shipping_method_kind должно быть одним из: by_courier, by_courier_for_companies, pickup"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Недопустимые параметры запроса: shipping_method_kind должно быть одним из: by_courier, by_courier_for_companies, pickup",
                    "human_message": "Недопустимые параметры запроса: shipping_method_kind должно быть одним из: by_courier, by_courier_for_companies, pickup"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              null,
                              "store_unavailable"
                            ],
                            "nullable": true
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/orders/{order_id}/transfer_method": {
      "put": {
        "summary": "Обновление параметров получения товара",
        "tags": [
          "Orders"
        ],
        "description": "Обновление параметров получения товара, с получением потерь",
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список получен",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20186",
                  "total": 0,
                  "item_count": 0,
                  "item_count_in_stock": 0,
                  "item_total": 0,
                  "item_discount_total": 0,
                  "ship_total": 0,
                  "adjustment_total": 0,
                  "promo_total": 0,
                  "sber_spasibo_total": null,
                  "shipment_state": null,
                  "shipping_method_kind": "pickup",
                  "payment_state": null,
                  "special_instructions": null,
                  "created_at": "2022-02-02T12:24:54.000+03:00",
                  "updated_at": "2022-02-02T12:24:55.000+03:00",
                  "completed_at": null,
                  "email": "test@test.ru",
                  "uuid": "'1bc89d27-9b14-4407--124",
                  "total_weight": 0,
                  "discounts": [

                  ],
                  "installment_plan": null,
                  "deliveries_info": null,
                  "address": null,
                  "payment": null,
                  "replacement_policy": null,
                  "shipments": [

                  ],
                  "promotion_codes": [

                  ],
                  "company": null
                },
                "losses": [
                  {
                    "retailer": {
                      "id": 20,
                      "name": "METRO603",
                      "slug": "metro603",
                      "color": "#003d7a",
                      "logo_background_color": "#003d7a",
                      "logo": "",
                      "available": true,
                      "environment": "production",
                      "appearance": null,
                      "requirements": [

                      ]
                    },
                    "offers": [
                      {
                        "id": 23,
                        "sku": "20184",
                        "active": true,
                        "retailer_sku": "0000000059",
                        "name": "Product #63",
                        "price": 1236.7,
                        "original_price": 1236.7,
                        "discount": 0.0,
                        "human_volume": "100 г.",
                        "volume": 100.0,
                        "volume_type": "weight",
                        "items_per_pack": 1,
                        "discount_ends_at": null,
                        "price_type": "per_kilo",
                        "grams_per_unit": 500,
                        "unit_price": 1236.7,
                        "original_unit_price": 1236.7,
                        "promo_badge_ids": [

                        ],
                        "labels": [

                        ],
                        "score": null,
                        "score_details": {
                          "comment_count": null
                        },
                        "images": [

                        ],
                        "requirements": [

                        ]
                      },
                      {
                        "id": 22,
                        "sku": "20183",
                        "active": true,
                        "retailer_sku": "0000000058",
                        "name": "Product #62",
                        "price": 1236.7,
                        "original_price": 1236.7,
                        "discount": 0.0,
                        "human_volume": "100 г.",
                        "volume": 100.0,
                        "volume_type": "weight",
                        "items_per_pack": 1,
                        "discount_ends_at": null,
                        "price_type": "per_kilo",
                        "grams_per_unit": 500,
                        "unit_price": 1236.7,
                        "original_unit_price": 1236.7,
                        "promo_badge_ids": [

                        ],
                        "labels": [

                        ],
                        "score": null,
                        "score_details": {
                          "comment_count": null
                        },
                        "images": [

                        ],
                        "requirements": [

                        ]
                      }
                    ]
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "order": {
                      "type": "object",
                      "properties": {
                        "number": {
                          "type": "string"
                        },
                        "total": {
                          "type": "number"
                        },
                        "item_count": {
                          "type": "integer"
                        },
                        "item_count_in_stock": {
                          "type": "integer"
                        },
                        "item_total": {
                          "type": "number"
                        },
                        "item_discount_total": {
                          "type": "number"
                        },
                        "ship_total": {
                          "type": "number"
                        },
                        "adjustment_total": {
                          "type": "number"
                        },
                        "promo_total": {
                          "type": "number"
                        },
                        "sber_spasibo_total": {
                          "type": "number",
                          "nullable": true
                        },
                        "shipment_state": {
                          "type": "string",
                          "nullable": true,
                          "enum": [
                            "pending",
                            "ready",
                            "collecting",
                            "ready_to_ship",
                            "shipping",
                            "shipped",
                            "canceled",
                            "backorder",
                            "partial",
                            "delivered",
                            null
                          ]
                        },
                        "shipping_method_kind": {
                          "type": "string",
                          "enum": [
                            "by_courier",
                            "by_courier_for_companies",
                            "pickup"
                          ]
                        },
                        "payment_state": {
                          "type": "string",
                          "nullable": true
                        },
                        "special_instructions": {
                          "type": "string",
                          "nullable": true
                        },
                        "created_at": {
                          "type": "string"
                        },
                        "updated_at": {
                          "type": "string"
                        },
                        "completed_at": {
                          "type": "string",
                          "nullable": true
                        },
                        "email": {
                          "type": "string",
                          "example": "test@example.com"
                        },
                        "uuid": {
                          "type": "string"
                        },
                        "total_weight": {
                          "type": "integer"
                        },
                        "address": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "first_name": {
                              "type": "string"
                            },
                            "last_name": {
                              "type": "string"
                            },
                            "full_address": {
                              "type": "string"
                            },
                            "city": {
                              "type": "string"
                            },
                            "phone": {
                              "type": "string"
                            },
                            "street": {
                              "type": "string"
                            },
                            "building": {
                              "type": "string",
                              "nullable": true
                            },
                            "block": {
                              "type": "string",
                              "nullable": true
                            },
                            "entrance": {
                              "type": "string",
                              "nullable": true
                            },
                            "floor": {
                              "type": "string",
                              "nullable": true
                            },
                            "apartment": {
                              "type": "string",
                              "nullable": true
                            },
                            "comments": {
                              "type": "string",
                              "nullable": true
                            },
                            "lat": {
                              "type": "number",
                              "nullable": true
                            },
                            "lon": {
                              "type": "number",
                              "nullable": true
                            },
                            "kind": {
                              "type": "string",
                              "nullable": true
                            },
                            "door_phone": {
                              "type": "string",
                              "nullable": true
                            },
                            "delivery_to_door": {
                              "type": "boolean",
                              "nullable": true
                            }
                          },
                          "required": [
                            "id",
                            "first_name",
                            "last_name",
                            "full_address",
                            "city",
                            "phone",
                            "street",
                            "building",
                            "block",
                            "entrance",
                            "floor",
                            "apartment",
                            "comments",
                            "lat",
                            "lon",
                            "kind",
                            "door_phone",
                            "delivery_to_door"
                          ]
                        },
                        "shipments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "number": {
                                "type": "string"
                              },
                              "cost": {
                                "type": "number"
                              },
                              "item_total": {
                                "type": "number"
                              },
                              "item_discount_total": {
                                "type": "number"
                              },
                              "item_without_discount_total": {
                                "type": "number"
                              },
                              "total": {
                                "type": "number"
                              },
                              "state": {
                                "type": "string"
                              },
                              "driver_name": {
                                "type": "string",
                                "nullable": true
                              },
                              "driver_phone": {
                                "type": "string",
                                "nullable": true
                              },
                              "total_weight": {
                                "type": "integer"
                              },
                              "can_cancel": {
                                "type": "boolean"
                              },
                              "item_count": {
                                "type": "integer"
                              },
                              "item_count_in_stock": {
                                "type": "integer"
                              },
                              "checkout": {
                                "type": "boolean"
                              },
                              "line_items": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "integer"
                                    },
                                    "quantity": {
                                      "type": "integer"
                                    },
                                    "packs": {
                                      "type": "number"
                                    },
                                    "price": {
                                      "type": "number"
                                    },
                                    "total": {
                                      "type": "number"
                                    },
                                    "promo_total": {
                                      "type": "number"
                                    },
                                    "discount": {
                                      "type": "number"
                                    },
                                    "customer_comment": {
                                      "type": "string",
                                      "nullable": true
                                    },
                                    "product_in_stock": {
                                      "type": "boolean"
                                    },
                                    "total_diff": {
                                      "type": "number"
                                    },
                                    "unit_price": {
                                      "type": "number"
                                    },
                                    "unit_quantity": {
                                      "type": "number"
                                    },
                                    "uuid": {
                                      "type": "string"
                                    },
                                    "product": {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "integer"
                                        },
                                        "sku": {
                                          "type": "string"
                                        },
                                        "active": {
                                          "type": "boolean"
                                        },
                                        "retailer_sku": {
                                          "type": "string"
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "price": {
                                          "type": "number"
                                        },
                                        "original_price": {
                                          "type": "number"
                                        },
                                        "discount": {
                                          "type": "number"
                                        },
                                        "human_volume": {
                                          "type": "string"
                                        },
                                        "volume": {
                                          "type": "number"
                                        },
                                        "volume_type": {
                                          "type": "string"
                                        },
                                        "items_per_pack": {
                                          "type": "integer"
                                        },
                                        "discount_ends_at": {
                                          "type": "string",
                                          "nullable": true
                                        },
                                        "price_type": {
                                          "type": "string"
                                        },
                                        "grams_per_unit": {
                                          "type": "integer"
                                        },
                                        "unit_price": {
                                          "type": "number"
                                        },
                                        "original_unit_price": {
                                          "type": "number"
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "sku",
                                        "active",
                                        "retailer_sku",
                                        "name",
                                        "price",
                                        "original_price",
                                        "discount",
                                        "human_volume",
                                        "volume",
                                        "volume_type",
                                        "items_per_pack",
                                        "price_type",
                                        "grams_per_unit",
                                        "unit_price",
                                        "original_unit_price"
                                      ]
                                    }
                                  },
                                  "required": [
                                    "id",
                                    "quantity",
                                    "packs",
                                    "price",
                                    "total",
                                    "promo_total",
                                    "discount",
                                    "customer_comment",
                                    "product_in_stock",
                                    "total_diff",
                                    "unit_price",
                                    "unit_quantity",
                                    "uuid",
                                    "product"
                                  ]
                                }
                              },
                              "retailer": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "slug": {
                                    "type": "string"
                                  },
                                  "color": {
                                    "type": "string"
                                  },
                                  "logo_background_color": {
                                    "type": "string"
                                  },
                                  "logo": {
                                    "type": "string"
                                  },
                                  "available": {
                                    "type": "boolean"
                                  },
                                  "environment": {
                                    "type": "string"
                                  },
                                  "appearance": {
                                    "description": "Внешний вид",
                                    "oneOf": [
                                      {
                                        "type": "null"
                                      },
                                      {
                                        "$ref": "#/components/schemas/retailer_appearance"
                                      }
                                    ]
                                  }
                                },
                                "required": [
                                  "id",
                                  "appearance",
                                  "name",
                                  "slug",
                                  "color",
                                  "logo_background_color",
                                  "logo",
                                  "available",
                                  "environment"
                                ]
                              }
                            },
                            "required": [
                              "id",
                              "number",
                              "cost",
                              "item_total",
                              "item_discount_total",
                              "item_without_discount_total",
                              "total",
                              "state",
                              "driver_name",
                              "driver_phone",
                              "total_weight",
                              "can_cancel",
                              "item_count",
                              "item_count_in_stock",
                              "checkout",
                              "line_items",
                              "retailer"
                            ]
                          }
                        },
                        "promotion_codes": {
                          "type": "array",
                          "items": {
                          }
                        }
                      },
                      "required": [
                        "number",
                        "total",
                        "item_count",
                        "item_count_in_stock",
                        "item_total",
                        "item_discount_total",
                        "ship_total",
                        "adjustment_total",
                        "promo_total",
                        "sber_spasibo_total",
                        "shipment_state",
                        "shipping_method_kind",
                        "payment_state",
                        "special_instructions",
                        "created_at",
                        "updated_at",
                        "completed_at",
                        "email",
                        "uuid",
                        "total_weight",
                        "address",
                        "shipments",
                        "promotion_codes"
                      ]
                    },
                    "losses": {
                      "type": "array",
                      "description": "Товары, которые будут утеряны при изменении параметров получения товара",
                      "items": {
                        "type": "object",
                        "properties": {
                          "retailer": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 10
                              },
                              "name": {
                                "type": "string",
                                "description": "Наименование ритейлера",
                                "example": "Семерочка"
                              },
                              "slug": {
                                "type": "string",
                                "description": "Код ритейлера",
                                "example": "metro"
                              },
                              "color": {
                                "type": "string",
                                "example": "#ff0000"
                              },
                              "logo_background_color": {
                                "type": "string",
                                "example": "#ff0000"
                              },
                              "logo": {
                                "type": "string",
                                "description": "Логотип ритейлера",
                                "example": "https://stf-18.k-stage.sbermarket.tech/spree/retailer_logos/97342/default/auchan-logo.png?1536325973"
                              },
                              "available": {
                                "type": "boolean",
                                "example": true
                              },
                              "environment": {
                                "type": "string",
                                "example": "production",
                                "nullable": true
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                }
                              }
                            },
                            "required": [
                              "id",
                              "name",
                              "slug",
                              "color",
                              "logo_background_color",
                              "logo",
                              "available",
                              "environment",
                              "requirements"
                            ]
                          },
                          "offers": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "sku": {
                                  "type": "string",
                                  "example": "20002"
                                },
                                "active": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "retailer_sku": {
                                  "type": "string",
                                  "example": "0000000000"
                                },
                                "name": {
                                  "type": "string",
                                  "description": "Наименование позиции",
                                  "example": "Банан"
                                },
                                "price": {
                                  "type": "number",
                                  "example": 50.5
                                },
                                "original_price": {
                                  "type": "number",
                                  "example": 50.5
                                },
                                "discount": {
                                  "type": "number",
                                  "example": 0.0
                                },
                                "human_volume": {
                                  "type": "string",
                                  "example": "100 г."
                                },
                                "volume": {
                                  "type": "number",
                                  "description": "Количество",
                                  "example": 100.0
                                },
                                "volume_type": {
                                  "type": "string",
                                  "description": "Вид измерения",
                                  "example": "weight"
                                },
                                "items_per_pack": {
                                  "type": "integer",
                                  "description": "Количество штук в упаковке",
                                  "example": 1
                                },
                                "discount_ends_at": {
                                  "type": "string",
                                  "nullable": true,
                                  "example": "2020-10-19",
                                  "description": "Дата окончания скидки"
                                },
                                "price_type": {
                                  "type": "string",
                                  "example": "per_kilo",
                                  "description": "Единица измерения",
                                  "enum": [
                                    "per_item",
                                    "per_kilo",
                                    "per_pack",
                                    "per_package"
                                  ]
                                },
                                "grams_per_unit": {
                                  "type": "integer",
                                  "description": "Грамм в единице товара",
                                  "example": 500
                                },
                                "unit_price": {
                                  "type": "number",
                                  "description": "Стоимость единицы товара",
                                  "example": 50.5
                                },
                                "original_unit_price": {
                                  "type": "number",
                                  "description": "Стоимость единицы товара без скидок",
                                  "example": 50.5
                                },
                                "promo_badge_ids": {
                                  "type": "array",
                                  "items": {
                                  }
                                },
                                "images": {
                                  "type": "array",
                                  "items": {
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "example": "alcohol"
                                      },
                                      "title": {
                                        "type": "string",
                                        "example": "Алкоголь"
                                      }
                                    },
                                    "required": [
                                      "type",
                                      "title"
                                    ]
                                  }
                                }
                              },
                              "required": [
                                "id",
                                "sku",
                                "active",
                                "retailer_sku",
                                "name",
                                "price",
                                "original_price",
                                "discount",
                                "human_volume",
                                "volume",
                                "volume_type",
                                "items_per_pack",
                                "grams_per_unit",
                                "price_type",
                                "unit_price",
                                "original_unit_price",
                                "promo_badge_ids",
                                "images",
                                "requirements"
                              ]
                            }
                          }
                        },
                        "required": [
                          "retailer",
                          "offers"
                        ]
                      }
                    }
                  },
                  "required": [
                    "order",
                    "losses"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Ошибка параметров запроса",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Недопустимые параметры запроса: shipping_method_kind должно быть одним из: by_courier, by_courier_for_companies, pickup"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Недопустимые параметры запроса: shipping_method_kind должно быть одним из: by_courier, by_courier_for_companies, pickup",
                    "human_message": "Недопустимые параметры запроса: shipping_method_kind должно быть одним из: by_courier, by_courier_for_companies, pickup"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "shipping_method_kind": {
                    "type": "string",
                    "enum": [
                      "by_courier",
                      "by_courier_for_companies",
                      "pickup"
                    ],
                    "description": "Если передан pickup, то обязателен pickup_store_id. Если by_courier то обязателен address_params"
                  },
                  "pickup_store_id": {
                    "type": "integer"
                  },
                  "address_params": {
                    "properties": {
                      "address_id": {
                        "type": "integer",
                        "description": "При изменении адреса, нужны либо параметры адреса, либо идентификатор существующего адреса(можно передавать только для авторизованного пользователя, адрес должен принадлежать пользователю)"
                      },
                      "first_name": {
                        "type": "string"
                      },
                      "last_name": {
                        "type": "string"
                      },
                      "city": {
                        "type": "string"
                      },
                      "street": {
                        "type": "string"
                      },
                      "floor": {
                        "type": "string"
                      },
                      "business_center": {
                        "type": "string"
                      },
                      "elevator": {
                        "type": "boolean"
                      },
                      "region": {
                        "type": "string"
                      },
                      "pass": {
                        "type": "string"
                      },
                      "shipment_comment": {
                        "type": "string"
                      },
                      "building": {
                        "type": "string"
                      },
                      "block": {
                        "type": "string"
                      },
                      "settlement": {
                        "type": "string"
                      },
                      "area": {
                        "type": "string"
                      },
                      "apartment": {
                        "type": "string"
                      },
                      "comments": {
                        "type": "string"
                      },
                      "lat": {
                        "type": "number"
                      },
                      "lon": {
                        "type": "number"
                      },
                      "city_kladr_id": {
                        "type": "string"
                      },
                      "street_kladr_id": {
                        "type": "string"
                      },
                      "entrance": {
                        "type": "string"
                      },
                      "door_phone": {
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "shipping_method_kind"
                ],
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/v2/orders/{order_number}": {
      "get": {
        "summary": "Получить заказ",
        "tags": [
          "Orders"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "order_number",
            "in": "path",
            "description": "Номер заказа",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Информация о заказе",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20203",
                  "total": 900.0,
                  "item_count": 1,
                  "item_count_in_stock": 1,
                  "item_total": 1000.0,
                  "item_discount_total": 0.0,
                  "ship_total": 0.0,
                  "adjustment_total": -100.0,
                  "promo_total": -100.0,
                  "sber_spasibo_total": 0.0,
                  "shipment_state": "ready",
                  "shipping_method_kind": "by_courier",
                  "payment_state": "not_paid",
                  "special_instructions": null,
                  "created_at": "2022-02-02T12:24:58.000+03:00",
                  "updated_at": "2022-02-02T12:24:59.000+03:00",
                  "completed_at": "2022-02-02T12:24:58.000+03:00",
                  "email": "test926@test.ru",
                  "uuid": "'1bc89d27-9b14-4407--136",
                  "total_weight": 500,
                  "discounts": [
                    {
                      "title": "Промокод",
                      "type": "promotion_code",
                      "amount": -100.0
                    }
                  ],
                  "installment_plan": null,
                  "deliveries_info": null,
                  "address": {
                    "id": 43,
                    "first_name": "Ivan",
                    "last_name": "Fedorov",
                    "full_address": "Москва, 46th street, 56 c.3",
                    "city": "Москва",
                    "phone": "74951112233",
                    "street": "46th street",
                    "building": "56 c.3",
                    "block": "1",
                    "entrance": "1",
                    "floor": "1",
                    "apartment": null,
                    "comments": null,
                    "lat": 5.0,
                    "lon": 5.0,
                    "kind": null,
                    "door_phone": null,
                    "delivery_to_door": false
                  },
                  "payment": {
                    "number": "KHGY436C",
                    "state": "checkout",
                    "is_finalization_needed": false,
                    "finalization_url": null
                  },
                  "replacement_policy": {
                    "id": 14,
                    "description": "Не звонить мне. Подобрать замену"
                  },
                  "shipments": [
                    {
                      "id": 26,
                      "number": "H57470071866",
                      "cost": 0.0,
                      "item_total": 1000.0,
                      "item_discount_total": 0.0,
                      "item_without_discount_total": 1000.0,
                      "total": 900.0,
                      "state": "ready",
                      "alerts": [

                      ],
                      "promotions": [

                      ],
                      "next_deliveries": [
                        {
                          "id": 17,
                          "store_id": null,
                          "price": 490.0,
                          "summary": "завтра 09:00–12:00",
                          "starts_at": "2022-02-03T09:00:00.000+03:00",
                          "ends_at": "2022-02-03T12:00:00.000+03:00",
                          "express_delivery": false,
                          "delivery_forecast_text": null,
                          "estimate_source": "one_hour_slot",
                          "estimate_minutes_min": 1236,
                          "estimate_minutes_max": 1416,
                          "kind": "courier"
                        }
                      ],
                      "driver_name": null,
                      "driver_phone": null,
                      "total_weight": 500,
                      "can_cancel": true,
                      "discounts": [
                        {
                          "title": "Промокод",
                          "type": "promotion_code",
                          "amount": -100.0
                        }
                      ],
                      "item_count": 1,
                      "item_count_in_stock": 1,
                      "checkout": true,
                      "delay": null,
                      "delivery_windows_limits": null,
                      "line_items": [
                        {
                          "id": 29,
                          "quantity": 1,
                          "packs": 1,
                          "price": 1000.0,
                          "total": 1000.0,
                          "promo_total": -100.0,
                          "discount": 0.0,
                          "customer_comment": null,
                          "product_in_stock": true,
                          "total_diff": 0.0,
                          "unit_price": 1000.0,
                          "unit_quantity": 0.5,
                          "uuid": "2a9c71f9-baa2-411f-9a82-53bff2beda68",
                          "product": {
                            "id": 29,
                            "sku": "20204",
                            "active": true,
                            "retailer_sku": "0000000065",
                            "name": "Product #69",
                            "price": 1000.0,
                            "original_price": 1000.0,
                            "discount": 0.0,
                            "human_volume": "100 г.",
                            "volume": 100.0,
                            "volume_type": "weight",
                            "items_per_pack": 1,
                            "discount_ends_at": null,
                            "price_type": "per_kilo",
                            "grams_per_unit": 500,
                            "unit_price": 1000.0,
                            "original_unit_price": 1000.0,
                            "promo_badge_ids": [

                            ],
                            "labels": [

                            ],
                            "score": null,
                            "score_details": {
                              "comment_count": null
                            },
                            "images": [

                            ],
                            "requirements": [

                            ]
                          }
                        }
                      ],
                      "shipping_team_members": [

                      ],
                      "requirements": [

                      ],
                      "shipment_merge_targets": [

                      ],
                      "delivery_window": {
                        "id": 17,
                        "starts_at": "2022-02-03T09:00:00.000+03:00",
                        "ends_at": "2022-02-03T12:00:00.000+03:00",
                        "weight_balance": 400000,
                        "items_count_balance": 300,
                        "kind": "courier",
                        "delivery_forecast_text": null,
                        "estimate_source": "one_hour_slot",
                        "estimate_minutes_min": 1236,
                        "estimate_minutes_max": 1416,
                        "lifetime": null,
                        "is_express_delivery": false
                      },
                      "retailer": {
                        "id": 25,
                        "name": "METRO618",
                        "slug": "metro618",
                        "color": "#003d7a",
                        "logo_background_color": "#003d7a",
                        "logo": "",
                        "available": true,
                        "environment": "production",
                        "retailer_agreement": {
                          "agreement_type": "oferta_b",
                          "url": "/oferta_b"
                        },
                        "appearance": null,
                        "requirements": [

                        ]
                      },
                      "external_partners_service": null,
                      "payment": {
                        "number": "KHGY436C",
                        "state": "checkout",
                        "is_finalization_needed": false,
                        "finalization_url": null
                      },
                      "on_demand_estimate": null,
                      "store": {
                        "id": 30,
                        "name": "METRO618, 102th street",
                        "uuid": "7b1821cb-6bd6-4178-9775-157ef3cadab6",
                        "location": {
                          "id": 23,
                          "full_address": "Москва, 102th street, 56 c.3",
                          "city": "Москва",
                          "street": "102th street",
                          "building": "56 c.3",
                          "lat": 5.0,
                          "lon": 5.0
                        }
                      },
                      "merge": {
                        "possible": false,
                        "impossibility_reason": {
                          "code": "too_heavy",
                          "title": "Заказ принят",
                          "description": "Заказ тяжёлый, добавить товары не получится"
                        }
                      }
                    }
                  ],
                  "promotion_codes": [
                    {
                      "value": "f1c1b018",
                      "description": null
                    }
                  ],
                  "company": null
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "order": {
                      "$ref": "#/components/schemas/order_for_additional_order"
                    }
                  },
                  "required": [
                    "order"
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Обновить заказ",
        "tags": [
          "Orders"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "order_number",
            "in": "path",
            "description": "Номер заказа",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Заказ обновлен",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20206",
                  "total": 1390.0,
                  "item_count": 1,
                  "item_count_in_stock": 1,
                  "item_total": 1000.0,
                  "item_discount_total": 0.0,
                  "ship_total": 490.0,
                  "adjustment_total": -100.0,
                  "promo_total": -100.0,
                  "sber_spasibo_total": 0.0,
                  "shipment_state": null,
                  "shipping_method_kind": "by_courier",
                  "payment_state": null,
                  "special_instructions": null,
                  "created_at": "2022-02-02T12:24:59.000+03:00",
                  "updated_at": "2022-02-02T12:25:00.000+03:00",
                  "completed_at": null,
                  "email": "test927@test.ru",
                  "uuid": "'1bc89d27-9b14-4407--138",
                  "total_weight": 500,
                  "discounts": [
                    {
                      "title": "Промокод",
                      "type": "promotion_code",
                      "amount": -100.0
                    }
                  ],
                  "installment_plan": null,
                  "deliveries_info": null,
                  "address": {
                    "id": 45,
                    "first_name": "Леонид",
                    "last_name": "Fedorov",
                    "full_address": "Москва, 47th street, 56 c.3",
                    "city": "Москва",
                    "phone": "74953332218",
                    "street": "47th street",
                    "building": "56 c.3",
                    "block": "1",
                    "entrance": "1",
                    "floor": "1",
                    "apartment": null,
                    "comments": null,
                    "lat": 5.0,
                    "lon": 5.0,
                    "kind": null,
                    "door_phone": null,
                    "delivery_to_door": false
                  },
                  "payment": {
                    "number": "7RRYEN8V",
                    "state": "checkout",
                    "is_finalization_needed": false,
                    "finalization_url": null
                  },
                  "replacement_policy": {
                    "id": 15,
                    "description": "Не звонить мне. Убрать из заказа"
                  },
                  "shipments": [
                    {
                      "id": 27,
                      "number": "H55238762480",
                      "cost": 490.0,
                      "item_total": 1000.0,
                      "item_discount_total": 0.0,
                      "item_without_discount_total": 1000.0,
                      "total": 1390.0,
                      "state": "pending",
                      "alerts": [

                      ],
                      "promotions": [

                      ],
                      "next_deliveries": [
                        {
                          "id": 18,
                          "store_id": null,
                          "price": 490.0,
                          "summary": "завтра 09:00–12:00",
                          "starts_at": "2022-02-03T09:00:00.000+03:00",
                          "ends_at": "2022-02-03T12:00:00.000+03:00",
                          "express_delivery": false,
                          "delivery_forecast_text": null,
                          "estimate_source": "one_hour_slot",
                          "estimate_minutes_min": 1235,
                          "estimate_minutes_max": 1415,
                          "kind": "courier"
                        }
                      ],
                      "driver_name": null,
                      "driver_phone": null,
                      "total_weight": 500,
                      "can_cancel": false,
                      "discounts": [
                        {
                          "title": "Промокод",
                          "type": "promotion_code",
                          "amount": -100.0
                        }
                      ],
                      "item_count": 1,
                      "item_count_in_stock": 1,
                      "checkout": true,
                      "delay": null,
                      "delivery_windows_limits": null,
                      "line_items": [
                        {
                          "id": 30,
                          "quantity": 1,
                          "packs": 1,
                          "price": 1000.0,
                          "total": 1000.0,
                          "promo_total": -100.0,
                          "discount": 0.0,
                          "customer_comment": null,
                          "product_in_stock": true,
                          "total_diff": 0.0,
                          "unit_price": 1000.0,
                          "unit_quantity": 0.5,
                          "uuid": "0bf31bd0-f44b-4832-942b-f8901bf00c12",
                          "product": {
                            "id": 30,
                            "sku": "20207",
                            "active": true,
                            "retailer_sku": "0000000066",
                            "name": "Product #70",
                            "price": 1000.0,
                            "original_price": 1000.0,
                            "discount": 0.0,
                            "human_volume": "100 г.",
                            "volume": 100.0,
                            "volume_type": "weight",
                            "items_per_pack": 1,
                            "discount_ends_at": null,
                            "price_type": "per_kilo",
                            "grams_per_unit": 500,
                            "unit_price": 1000.0,
                            "original_unit_price": 1000.0,
                            "promo_badge_ids": [

                            ],
                            "labels": [

                            ],
                            "score": null,
                            "score_details": {
                              "comment_count": null
                            },
                            "images": [

                            ],
                            "requirements": [

                            ]
                          }
                        }
                      ],
                      "shipping_team_members": [

                      ],
                      "requirements": [

                      ],
                      "shipment_merge_targets": [

                      ],
                      "delivery_window": {
                        "id": 3,
                        "starts_at": "2022-02-02T09:00:00.000+03:00",
                        "ends_at": "2022-02-02T12:00:00.000+03:00",
                        "weight_balance": 400000,
                        "items_count_balance": 300,
                        "kind": "courier",
                        "delivery_forecast_text": null,
                        "estimate_source": "one_hour_slot",
                        "estimate_minutes_min": -205,
                        "estimate_minutes_max": -25,
                        "lifetime": null,
                        "is_express_delivery": false
                      },
                      "retailer": {
                        "id": 26,
                        "name": "METRO621",
                        "slug": "metro621",
                        "color": "#003d7a",
                        "logo_background_color": "#003d7a",
                        "logo": "",
                        "available": true,
                        "environment": "production",
                        "retailer_agreement": {
                          "agreement_type": "oferta_b",
                          "url": "/oferta_b"
                        },
                        "appearance": null,
                        "requirements": [

                        ]
                      },
                      "external_partners_service": null,
                      "payment": null,
                      "on_demand_estimate": null,
                      "store": {
                        "id": 31,
                        "name": "METRO621, 103th street",
                        "uuid": "c4ed0209-656e-4447-9842-abb6be8c2f7a",
                        "location": {
                          "id": 24,
                          "full_address": "Москва, 103th street, 56 c.3",
                          "city": "Москва",
                          "street": "103th street",
                          "building": "56 c.3",
                          "lat": 5.0,
                          "lon": 5.0
                        }
                      },
                      "merge": null
                    }
                  ],
                  "promotion_codes": [
                    {
                      "value": "a4b5f9a7",
                      "description": null
                    }
                  ],
                  "company": null
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "order": {
                      "$ref": "#/components/schemas/order_for_additional_order"
                    }
                  },
                  "required": [
                    "order"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "order": {
                    "$ref": "#/components/schemas/order_update_body"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/orders/{id}/spasibo_info": {
      "get": {
        "summary": "Различные данные, связанные с применимостью СберСпасибо в заказе",
        "tags": [
          "SberSpasibo"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Номер заказа",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Различные данные",
            "examples": {
              "application/json": {
                "available": true,
                "min_bonus_amount": 500,
                "min_money_amount": 995,
                "min_total": 1000,
                "info": "Бонусами можно оплатить до 50% от заказа"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "available": {
                      "type": "boolean"
                    },
                    "min_bonus_amount": {
                      "type": "integer"
                    },
                    "min_money_amount": {
                      "type": "integer"
                    },
                    "min_total": {
                      "type": "integer"
                    },
                    "info": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Нет прав на запрос данных",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Пользователь не может выполнить это действие"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Пользователь не может выполнить это действие",
                    "human_message": "Пользователь не может выполнить это действие"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errors/V2ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Заказ не найден",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Заказ не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Заказ не существует",
                    "human_message": "Заказ не существует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/errors/V2ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/payment_tools": {
      "get": {
        "summary": "Получить список",
        "tags": [
          "PaymentTools"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Список получен. Структуру ответа см в Schema",
            "examples": {
              "application/json": {
                "payment_tools": [
                  {
                    "id": 48,
                    "name": "•••• 1111",
                    "type": "cloud_payments_gateway",
                    "source": {
                      "type": "credit_card",
                      "credit_card": {
                        "id": 1,
                        "title": null,
                        "name": "Ivan Petrov",
                        "year": "2023",
                        "month": "2",
                        "last_digits": "1111",
                        "state": "authorized",
                        "cc_type": null,
                        "eligible": true
                      }
                    }
                  },
                  {
                    "id": 50,
                    "name": "ACME corp, ИНН: 7707083893",
                    "type": "sber_bank_invoice",
                    "source": {
                      "type": "company_document",
                      "company_document": {
                        "id": 1,
                        "name": "ACME corp",
                        "inn": "7707083893",
                        "kpp": "123456789",
                        "bik": "123456789",
                        "bank": "Sberbank",
                        "correspondent_account": "12345678901234567890",
                        "operating_account": "12345678901234567890",
                        "address": "Moscow"
                      }
                    }
                  },
                  {
                    "id": 47,
                    "name": "Наличными курьеру",
                    "type": "check",
                    "source": null
                  },
                  {
                    "id": 49,
                    "name": "Банковский перевод",
                    "type": "sber_bank_invoice",
                    "source": null
                  }
                ],
                "meta": {
                  "current_page": 1,
                  "next_page": null,
                  "total_pages": 1,
                  "per_page": 20,
                  "total_count": 4
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "payment_tools": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/payment_tools"
                      }
                    }
                  },
                  "required": [
                    "payment_tools"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/payment_tools_with_types": {
      "get": {
        "summary": "Получить списки методов оплаты и конкретных способов оплаты",
        "tags": [
          "PaymentTools"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "company_id",
            "in": "query",
            "description": "ID компании, по которой должны быть отфильтрованы реквизиты",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "order_id",
            "in": "query",
            "description": "Number заказа, для которого должны быть отданы payment_tool_types",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список получен",
            "examples": {
              "application/json": {
                "payment_tools": [
                  {
                    "id": 52,
                    "name": "•••• 1111",
                    "type": "cloud_payments_gateway",
                    "source": {
                      "type": "credit_card",
                      "credit_card": {
                        "id": 2,
                        "title": null,
                        "name": "Ivan Petrov",
                        "year": "2023",
                        "month": "2",
                        "last_digits": "1111",
                        "state": "authorized",
                        "cc_type": null,
                        "eligible": true
                      }
                    }
                  },
                  {
                    "id": 51,
                    "name": "Наличными курьеру",
                    "type": "check",
                    "source": null
                  }
                ],
                "payment_tool_types": [
                  {
                    "id": 44,
                    "name": "Check",
                    "description": "Pay by check",
                    "type": "check",
                    "min_order_amount": null,
                    "max_order_amount": null,
                    "confirm_button_text": null
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "payment_tools": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/payment_tools"
                      }
                    },
                    "payment_tool_types": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/payment_method"
                      }
                    }
                  },
                  "required": [
                    "payment_tools",
                    "payment_tool_types"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/phone_confirmations": {
      "post": {
        "summary": "Запросить подтверждение номера телефона",
        "tags": [
          "Authorization"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ]
          }
        ],
        "parameters": [

        ],
        "responses": {
          "200": {
            "description": "Получение данных для подтверждения номера",
            "examples": {
              "application/json": {
                "phone_token": {
                  "resend_limit": 60,
                  "code_length": 6
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "phone_token": {
                      "type": "object",
                      "required": [
                        "resend_limit",
                        "code_length"
                      ],
                      "properties": {
                        "resend_limit": {
                          "type": "integer",
                          "description": "Интервал времени, через который можно запросить код подтверждения",
                          "example": 60
                        },
                        "code_length": {
                          "type": "integer",
                          "description": "Длина кода подтверждения",
                          "example": 6
                        }
                      },
                      "nullable": true
                    }
                  },
                  "required": [
                    "phone_token"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Передан некорректный номер",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "PhoneToken: Value не может быть пустым"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "PhoneToken: Value не может быть пустым",
                    "human_message": "PhoneToken: Value не может быть пустым"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "phone": {
                    "type": "string",
                    "description": "Зашифрованный номер телефона"
                  }
                },
                "required": [
                  "phone"
                ]
              }
            }
          }
        }
      }
    },
    "/v2/phone_confirmations/{id}": {
      "put": {
        "summary": "Подтвердить номер телефона",
        "tags": [
          "Authorization"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Номер телефона",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешное подтверждение номера",
            "examples": {
              "application/json": {
                "session": {
                  "access_token": "ea44d04228a9b2444e116ae8741c7fba",
                  "expires_at": "2023-02-02T12:25:06.000+03:00",
                  "is_valid": true
                },
                "is_registration": true
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "session": {
                      "$ref": "#/components/schemas/session"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Неверный код подтверждения",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Неверный код"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Неверный код",
                    "human_message": "Неверный код"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Пользователь заблокирован",
            "examples": {
              "application/json": {
                "errors": {
                  "status": "401",
                  "title": "Ваш аккаунт заблокирован. Обратитесь в Службу поддержки."
                }
              }
            },
            "content": {
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "phone_confirmation_code": {
                    "type": "string",
                    "description": "Код подтверждения номера телефона"
                  },
                  "promo_terms_accepted": {
                    "type": "boolean",
                    "description": "Согласие на промо-рассылку"
                  },
                  "b2b": {
                    "type": "boolean",
                    "description": "Признак бизнес-пользователя"
                  }
                },
                "required": [
                  "phone_confirmation_code"
                ]
              }
            }
          }
        }
      }
    },
    "/v2/product_feedbacks": {
      "get": {
        "summary": "Получить список отзывов",
        "tags": [
          "Product feedbacks"
        ],
        "parameters": [
          {
            "name": "store_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "sku",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Возвращен список отзывов",
            "examples": {
              "application/json": {
                "feedbacks": [

                ],
                "meta": {
                  "current_page": 0,
                  "next_page": null,
                  "previous_page": null,
                  "total_pages": 0,
                  "per_page": 0,
                  "total_count": 0,
                  "other_feedbacks_count": 0
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "feedbacks": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/feedback"
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "current_page": {
                          "type": "integer"
                        },
                        "next_page": {
                          "type": "integer",
                          "nullable": true
                        },
                        "previous_page": {
                          "type": "integer",
                          "nullable": true
                        },
                        "total_pages": {
                          "type": "integer"
                        },
                        "per_page": {
                          "type": "integer"
                        },
                        "total_count": {
                          "type": "integer"
                        },
                        "other_feedbacks_count": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "current_page",
                        "total_pages",
                        "per_page",
                        "total_count",
                        "other_feedbacks_count"
                      ]
                    }
                  },
                  "required": [
                    "feedbacks",
                    "meta"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Ошибка валидации",
            "examples": {
              "application/json": {
                "type": "validation-error",
                "title": "Ошибка проверки входящих параметров",
                "invalid-params": null,
                "detail": "Один или более переданных параметров не является допустимым",
                "status": 400
              }
            },
            "content": {
            }
          },
          "500": {
            "description": "Внутренняя ошибка сервера",
            "examples": {
              "application/json": {
                "type": "internal-server-error",
                "title": "Что-то пошло не так",
                "status": 500
              }
            },
            "content": {
            }
          }
        }
      },
      "post": {
        "summary": "Создать отзыв на товар",
        "tags": [
          "Product feedbacks"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [

        ],
        "responses": {
          "201": {
            "description": "Отзыв создан",
            "examples": {
              "application/json": {
                "id": "dd5c9ebf-4f18-443b-a4bb-3c157a29f91c",
                "on_moderation": false
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "id",
                    "on_moderation"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "on_moderation": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Ошибка валидации",
            "examples": {
              "application/json": {
                "type": "validation-error",
                "title": "Ошибка проверки входящих параметров",
                "invalid-params": [
                  {
                    "name": "store_id",
                    "reason": "Магазин с таким ID не найден."
                  }
                ],
                "detail": "Один или более переданных параметров не является допустимым",
                "status": 400
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "type",
                    "invalid-params",
                    "status"
                  ],
                  "properties": {
                    "type": {
                      "type": "string",
                      "description": "Тип ошибки"
                    },
                    "invalid-params": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "description": "Поле с ошибкой"
                          },
                          "reason": {
                            "type": "string",
                            "description": "Причина ошибки"
                          }
                        }
                      }
                    },
                    "status": {
                      "type": "number",
                      "description": "HTTP код ответа"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "У пользователя уже есть отзыв на этот товар",
            "examples": {
              "application/json": {
                "type": "already-exists",
                "title": "У вас уже есть отзыв на этот товар.",
                "detail": "На каждый товар можно оставить не более одного отзыва.",
                "status": 422
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "type",
                    "title",
                    "detail",
                    "status"
                  ],
                  "properties": {
                    "type": {
                      "type": "string",
                      "description": "Тип ошибки"
                    },
                    "title": {
                      "type": "string",
                      "description": "Детальное описание ошибки"
                    },
                    "detail": {
                      "type": "string",
                      "description": "Дополнительная информация об ошибке"
                    },
                    "status": {
                      "type": "number",
                      "description": "HTTP код ответа"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Внутренняя ошибка сервера",
            "examples": {
              "application/json": {
                "type": "internal-server-error",
                "title": "Что-то пошло не так",
                "status": 500
              }
            },
            "content": {
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sku": {
                    "type": "string",
                    "description": "SKU товара",
                    "example": "00000000123"
                  },
                  "store_id": {
                    "type": "string",
                    "description": "ID магазина",
                    "example": "1"
                  },
                  "score": {
                    "type": "integer",
                    "description": "Выставляемый товару рейтинг",
                    "example": 4
                  },
                  "pros": {
                    "type": "string",
                    "description": "Положительные стороны товара",
                    "example": "Свежий."
                  },
                  "cons": {
                    "type": "string",
                    "description": "Негативные стороны товара",
                    "example": "Слишком зелёный."
                  },
                  "text": {
                    "type": "string",
                    "description": "Свободное описание товара",
                    "example": "Очень хрупкий."
                  }
                },
                "required": [
                  "sku",
                  "store_id",
                  "score"
                ]
              }
            }
          }
        }
      }
    },
    "/v2/product_feedbacks/{id}": {
      "delete": {
        "summary": "Удалить отзыв",
        "tags": [
          "Product feedbacks"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Успешно удалено",
            "examples": {
              "application/json": null
            },
            "content": {
            }
          },
          "403": {
            "description": "Удаление запрещено",
            "examples": {
              "application/json": {
                "type": "forbidden",
                "title": "Вы не можете выполнить данную операцию",
                "status": 403
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "description": "Тип ошибки"
                    },
                    "title": {
                      "type": "string",
                      "description": "Описание причины"
                    },
                    "status": {
                      "type": "number",
                      "description": "HTTP код ответа"
                    }
                  },
                  "required": [
                    "type",
                    "title",
                    "status"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "Внутренняя ошибка сервера",
            "examples": {
              "application/json": {
                "type": "internal-server-error",
                "title": "Что-то пошло не так",
                "status": 500
              }
            },
            "content": {
            }
          }
        }
      }
    },
    "/v2/product_feedbacks/can_post_feedback": {
      "get": {
        "summary": "Проверить, может ли пользователь опубликовать отзыв",
        "tags": [
          "Product feedbacks"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "store_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "sku",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Проверка проведена",
            "examples": {
              "application/json": {
                "can_post_feedback": false,
                "reason": ""
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "can_post_feedback": {
                      "type": "boolean",
                      "description": "Результат проверки"
                    },
                    "reason": {
                      "type": "string",
                      "description": "Причина, по которой нельзя оставить отзыв",
                      "example": "not-purchased"
                    }
                  },
                  "required": [
                    "can_post_feedback"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Ошибка валидации",
            "examples": {
              "application/json": {
                "type": "validation-error",
                "title": "Ошибка проверки входящих параметров",
                "invalid-params": null,
                "detail": "Один или более переданных параметров не является допустимым",
                "status": 400
              }
            },
            "content": {
            }
          },
          "500": {
            "description": "Внутренняя ошибка сервера",
            "examples": {
              "application/json": {
                "type": "internal-server-error",
                "title": "Что-то пошло не так",
                "status": 500
              }
            },
            "content": {
            }
          }
        }
      }
    },
    "/v2/product_feedbacks/actual_feedback": {
      "get": {
        "summary": "Получить актуальный отзыв на товар",
        "tags": [
          "Product feedbacks"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "sku",
            "required": true,
            "in": "query",
            "example": "42",
            "description": "SKU товара",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "store_id",
            "required": true,
            "in": "query",
            "example": "1",
            "description": "ID магазина",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Получение актуального отзыва",
            "examples": {
              "application/json": {
                "feedback": null
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "feedback"
                  ],
                  "properties": {
                    "feedback": {
                      "$ref": "#/components/schemas/feedback"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Ошибка валидации",
            "examples": {
              "application/json": {
                "type": "validation-error",
                "title": "Ошибка проверки входящих параметров",
                "invalid-params": [
                  {
                    "name": "Поле с ошибкой",
                    "reason": "Причина ошибки"
                  }
                ],
                "detail": "Один или более переданных параметров не является допустимым",
                "status": 400
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "type",
                    "invalid-params",
                    "status"
                  ],
                  "properties": {
                    "type": {
                      "type": "string",
                      "description": "Тип ошибки"
                    },
                    "invalid-params": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "description": "Поле с ошибкой"
                          },
                          "reason": {
                            "type": "string",
                            "description": "Причина ошибки"
                          }
                        }
                      }
                    },
                    "status": {
                      "type": "number",
                      "description": "HTTP код ответа"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Внутренняя ошибка сервера",
            "examples": {
              "application/json": {
                "type": "internal-server-error",
                "title": "Что-то пошло не так",
                "status": 500
              }
            },
            "content": {
            }
          }
        }
      }
    },
    "/v2/products": {
      "get": {
        "summary": "Получить список продуктов",
        "tags": [
          "Products"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "Api-Version",
            "in": "header",
            "description": "",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Token",
            "in": "header",
            "description": "",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "tid",
            "in": "query",
            "description": "ID категории",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "sid",
            "in": "query",
            "description": "Идентификатор магазина",
            "required": true
          },
          {
            "name": "q",
            "in": "query",
            "description": "Строка поиска",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Параметры сортировки",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "examples": {
              "application/json": {
                "products": [
                  {
                    "id": 43,
                    "sku": "20231",
                    "active": true,
                    "retailer_sku": "0000000079",
                    "name": "Alcohol",
                    "price": 1236.7,
                    "original_price": 1236.7,
                    "discount": 0.0,
                    "human_volume": "100 г.",
                    "volume": 100.0,
                    "volume_type": "weight",
                    "items_per_pack": 1,
                    "discount_ends_at": null,
                    "price_type": "per_kilo",
                    "grams_per_unit": 100,
                    "unit_price": 1236.7,
                    "original_unit_price": 1236.7,
                    "promo_badge_ids": [

                    ],
                    "labels": [

                    ],
                    "score": null,
                    "score_details": {
                      "comment_count": null
                    },
                    "images": [

                    ],
                    "requirements": [
                      {
                        "type": "alcohol",
                        "title": "Алкоголь"
                      }
                    ]
                  },
                  {
                    "id": 44,
                    "sku": "20232",
                    "active": true,
                    "retailer_sku": "0000000080",
                    "name": "Product #83",
                    "price": 1236.7,
                    "original_price": 1236.7,
                    "discount": 0.0,
                    "human_volume": "100 г.",
                    "volume": 100.0,
                    "volume_type": "weight",
                    "items_per_pack": 1,
                    "discount_ends_at": null,
                    "price_type": "per_kilo",
                    "grams_per_unit": 100,
                    "unit_price": 1236.7,
                    "original_unit_price": 1236.7,
                    "promo_badge_ids": [

                    ],
                    "labels": [

                    ],
                    "score": null,
                    "score_details": {
                      "comment_count": null
                    },
                    "images": [

                    ],
                    "requirements": [

                    ]
                  },
                  {
                    "id": 45,
                    "sku": "20233",
                    "active": true,
                    "retailer_sku": "0000000081",
                    "name": "Product #84",
                    "price": 1236.7,
                    "original_price": 1236.7,
                    "discount": 0.0,
                    "human_volume": "100 г.",
                    "volume": 100.0,
                    "volume_type": "weight",
                    "items_per_pack": 1,
                    "discount_ends_at": null,
                    "price_type": "per_kilo",
                    "grams_per_unit": 100,
                    "unit_price": 1236.7,
                    "original_unit_price": 1236.7,
                    "promo_badge_ids": [

                    ],
                    "labels": [

                    ],
                    "score": null,
                    "score_details": {
                      "comment_count": null
                    },
                    "images": [

                    ],
                    "requirements": [

                    ]
                  }
                ],
                "meta": {
                  "current_page": 1,
                  "next_page": null,
                  "previous_page": null,
                  "total_pages": 1,
                  "per_page": 10,
                  "total_count": 3
                },
                "facets": [
                  {
                    "key": "discounted",
                    "name": "Товары со скидкой",
                    "type": "toggle",
                    "options": [
                      {
                        "value": 1,
                        "count": 0,
                        "active": false
                      }
                    ]
                  },
                  {
                    "key": "brand",
                    "name": "Бренд",
                    "type": "multi_select",
                    "options": [

                    ]
                  }
                ],
                "sort": [
                  {
                    "key": "popularity",
                    "name": "По популярности",
                    "order": "desc",
                    "active": true
                  },
                  {
                    "key": "price_asc",
                    "name": "Сначала дешевые",
                    "order": "asc",
                    "active": false
                  },
                  {
                    "key": "price_desc",
                    "name": "Сначала дорогие",
                    "order": "desc",
                    "active": false
                  },
                  {
                    "key": "unit_price_asc",
                    "name": "Выгоднее по весу",
                    "order": "asc",
                    "active": false
                  }
                ],
                "root_categories": {
                  "key": "root_category",
                  "name": "Категория",
                  "type": "select",
                  "options": [

                  ]
                },
                "promo_badges": [

                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "products",
                    "promo_badges",
                    "meta",
                    "facets",
                    "sort",
                    "root_categories"
                  ],
                  "properties": {
                    "products": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/offer"
                      }
                    },
                    "promo_badges": {
                      "description": "Список бейджей",
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/promo_badge"
                      }
                    },
                    "meta": {
                      "$ref": "#/components/schemas/meta_info"
                    },
                    "facets": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/facet"
                      }
                    },
                    "sort": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/sort_item"
                      }
                    },
                    "root_categories": {
                      "$ref": "#/components/schemas/facet"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "not_found",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Рубрика не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Рубрика не существует",
                    "human_message": "Рубрика не существует"
                  }
                ]
              }
            },
            "content": {
            }
          },
          "422": {
            "description": "unprocessable_entity",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Must specify at least one argument \"taxon\" or \"term\""
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Must specify at least one argument \"taxon\" or \"term\"",
                    "human_message": "Must specify at least one argument \"taxon\" or \"term\""
                  }
                ]
              }
            },
            "content": {
            }
          }
        }
      }
    },
    "/v2/products/{id}": {
      "get": {
        "summary": "show",
        "tags": [
          "Products"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "examples": {
              "application/json": {
                "product": {
                  "id": 51,
                  "sku": "20239",
                  "active": true,
                  "retailer_sku": "0000000087",
                  "name": "Product #89",
                  "price": 1236.7,
                  "original_price": 1236.7,
                  "discount": 0.0,
                  "human_volume": "100 г.",
                  "volume": 100.0,
                  "volume_type": "weight",
                  "items_per_pack": 1,
                  "discount_ends_at": null,
                  "price_type": "per_kilo",
                  "grams_per_unit": 400,
                  "unit_price": 1236.7,
                  "original_unit_price": 1236.7,
                  "promo_badge_ids": [

                  ],
                  "labels": [

                  ],
                  "score": null,
                  "score_details": {
                    "feedback_count": null,
                    "feedback_source": null,
                    "comment_count": null
                  },
                  "description": "<img src=\"https://storefront.staging.instamart.ru/spree/products/129959/original/picanta.jpg\" width=700px height=0px alt=\"Пиканта\"> <img src=\"https://storefront.staging.instamart.ru/spree/products/129959/original/picanta.jpg\" width=\"100%\" alt=\"Пиканта\"> <iframe width=\"100%\" height=350px src=\"https://www.youtube.com/embed/wSIhSSbhvJ4\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>",
                  "related_products": [

                  ],
                  "images": [

                  ],
                  "requirements": [

                  ],
                  "properties": [
                    {
                      "name": "shelf_life",
                      "presentation": "shelf_life",
                      "value": "2 дня"
                    }
                  ],
                  "main_taxon": {
                    "id": 11,
                    "type": "taxon",
                    "name": "Чай",
                    "products_count": 0,
                    "promo_services": [

                    ],
                    "position": 0,
                    "depth": 0,
                    "description": null,
                    "icon": {
                      "mini_url": "https://instamart.ru/static/taxons/default.20210204.png",
                      "normal_url": "https://instamart.ru/static/taxons/default.20210204.png"
                    },
                    "alt_icon": null,
                    "requirements": [

                    ]
                  }
                },
                "promo_badges": [

                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "product": {
                      "$ref": "#/components/schemas/offer"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "not_found",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Продукт не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Продукт не существует",
                    "human_message": "Продукт не существует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "product": {
                      "$ref": "#/components/schemas/error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/profile": {
      "get": {
        "summary": "Получить профиль",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Профиль получен",
            "examples": {
              "application/json": {
                "user": {
                  "id": "5204b7a4-3cce-491f-9283-0af3c0cdf323",
                  "email": "test977@test.ru",
                  "display_email": "test977@test.ru",
                  "first_name": "Ivan",
                  "last_name": "Petrov",
                  "has_confirmed_phone": false,
                  "privacy_terms": false,
                  "promo_terms_accepted": false,
                  "promo_terms_changed_at": null,
                  "current_phone": null,
                  "completed_orders_count": 0,
                  "b2b": false,
                  "attached_services": [

                  ],
                  "config": {
                    "send_emails": true,
                    "send_sms": true,
                    "send_push": true,
                    "default_bonus_card_id": null
                  }
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "$ref": "#/components/schemas/user"
                    }
                  },
                  "required": [
                    "user"
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Обновить профиль",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [

        ],
        "responses": {
          "200": {
            "description": "Профиль обновлен",
            "examples": {
              "application/json": {
                "user": {
                  "id": "01558981-04bd-4040-a799-040b9ee1d60b",
                  "email": "test978@test.ru",
                  "display_email": "test978@test.ru",
                  "first_name": "Nikolay",
                  "last_name": "Petrov",
                  "has_confirmed_phone": false,
                  "privacy_terms": false,
                  "promo_terms_accepted": false,
                  "promo_terms_changed_at": null,
                  "current_phone": null,
                  "completed_orders_count": 0,
                  "b2b": false,
                  "config": {
                    "send_emails": true,
                    "send_sms": true,
                    "send_push": true,
                    "default_bonus_card_id": null
                  }
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "$ref": "#/components/schemas/user"
                    }
                  },
                  "required": [
                    "user"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user": {
                    "type": "object",
                    "properties": {
                      "email": {
                        "type": "string"
                      },
                      "first_name": {
                        "type": "string"
                      },
                      "last_name": {
                        "type": "string"
                      },
                      "privacy_terms": {
                        "type": "boolean"
                      },
                      "promo_terms_accepted": {
                        "type": "boolean"
                      },
                      "config_attributes": {
                        "type": "object",
                        "properties": {
                          "send_emails": {
                            "type": "boolean"
                          },
                          "send_sms": {
                            "type": "boolean"
                          },
                          "send_push": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/promotions/referral_program": {
      "get": {
        "summary": "Получение реферальной программы",
        "tags": [
          "ReferralPrograms"
        ],
        "responses": {
          "200": {
            "description": "Реферальная программа получена",
            "examples": {
              "application/json": {
                "referral_program": {
                  "ambassador_instacoins": "500",
                  "referral_instacoins": "250",
                  "min_order_amount": "1500",
                  "short_terms": [
                    {
                      "emoji": null,
                      "icon_url": null,
                      "html": "По этому промокоду ваш друг получит скидку <b>250&nbsp;₽</b> на свой первый заказ, если он будет больше <b>1500&nbsp;₽</b>."
                    },
                    {
                      "emoji": null,
                      "icon_url": null,
                      "html": "А вы получите <b>500&nbsp;₽</b> за каждого такого приведённого друга. Классно, да? &#128520;"
                    }
                  ],
                  "links": [
                    {
                      "type": "referral_rules",
                      "name": "Правила реферальной программы",
                      "url": "https://instamart.ru/mobile_pages/referrals_rules"
                    }
                  ]
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "referral_program": {
                      "$ref": "#/components/schemas/referral_program"
                    }
                  },
                  "required": [
                    "referral_program"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/replacement_policies": {
      "get": {
        "summary": "Получение списка способов замен",
        "tags": [
          "ReplacementPolicies"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Список получен",
            "examples": {
              "application/json": {
                "replacement_policies": [
                  {
                    "id": 19,
                    "description": "Не звонить мне. Убрать из заказа"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "replacement_policies": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/replacement_policy"
                      }
                    }
                  },
                  "required": [
                    "replacement_policies"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/retailers": {
      "get": {
        "summary": "Получить список ретейлеров",
        "tags": [
          "Retailers"
        ],
        "parameters": [
          {
            "name": "shipping_method",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "pickup",
                "by_courier"
              ]
            },
            "description": "Способ доставки. Соответствует значению spree_shipping_methods.kind",
            "example": "by_courier"
          },
          {
            "name": "city_id",
            "required": false,
            "in": "query",
            "example": 5,
            "description": "Идентификатор города",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "with_stores_total",
            "required": false,
            "in": "query",
            "schema": {
              "type": "integer",
              "enum": [
                0,
                1
              ]
            },
            "description": "Добавить в ответе подсчет количества магазинов у ритейлера, подходящих под условие. Если включен этот флаг, то city_id и shipping_method становятся обязательными"
          },
          {
            "name": "lat",
            "in": "query",
            "required": false,
            "description": "Широта точки. Работает только для самовывоза с передачей radius",
            "example": "10.00",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "lon",
            "in": "query",
            "required": false,
            "description": "Долгота точки. Работает только для самовывоза с передачей radius",
            "example": "11.00",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "radius",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": -1,
              "maximum": 50000
            },
            "description": "Радиус поиска ретейлеров вокруг заданной точки, в метрах. Если передан -1, будет значение по умолчанию (50км)",
            "example": 10000
          }
        ],
        "responses": {
          "200": {
            "description": "Получение списка ритейлеров",
            "examples": {
              "application/json": {
                "retailers": [
                  {
                    "id": 58,
                    "name": "METRO729",
                    "slug": "metro729",
                    "color": "#003d7a",
                    "logo_background_color": "#003d7a",
                    "logo": "",
                    "available": true,
                    "environment": "production",
                    "stores_count": 1,
                    "appearance": null,
                    "requirements": [

                    ]
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "retailers": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Идентификатор",
                            "example": 59
                          },
                          "name": {
                            "type": "string",
                            "description": "Наименование ритейлера",
                            "example": "Метро"
                          },
                          "slug": {
                            "type": "string",
                            "description": "Код ритейлера",
                            "example": "metro"
                          },
                          "color": {
                            "type": "string",
                            "description": "Цвет ритейлера",
                            "example": "#000000"
                          },
                          "logo_background_color": {
                            "type": "string",
                            "description": "Цвет заливки логотипа",
                            "example": "#000000"
                          },
                          "logo": {
                            "type": "string",
                            "description": "https://sbermarket.ru/spree/retailer_logos/489616/default/%D0%9B%D0%9E%D0%93%D0%9E_%D0%B1%D0%B5%D0%BB%D1%8B%D0%B8%CC%8611.png?1598520905",
                            "example": "Ссылка на логотип"
                          },
                          "available": {
                            "type": "boolean",
                            "description": "Активен ли данный ритейлер",
                            "example": true
                          },
                          "environment": {
                            "type": "string",
                            "nullable": true,
                            "description": "Окружение на котором доступен ритейлер",
                            "example": "development"
                          },
                          "appearance": {
                            "type": "object",
                            "nullable": true,
                            "additionalProperties": false,
                            "properties": {
                              "background_color": {
                                "type": "string",
                                "example": "#6039b0"
                              },
                              "image_color": {
                                "type": "string",
                                "example": "#d17777"
                              },
                              "black_theme": {
                                "type": "boolean",
                                "example": false
                              },
                              "logo_image": {
                                "type": "string",
                                "example": "https://storage.yandexcloud.net/object-storage-public-static-stage/stf-18/public//retailer_banners/11/logo_images/metro_logo.png?1613559653"
                              },
                              "side_image": {
                                "type": "string",
                                "example": "https://storage.yandexcloud.net/object-storage-public-static-stage/stf-18/public//retailer_banners/11/side_images/23.jpg?1613559654"
                              },
                              "mini_logo_image": {
                                "type": "string",
                                "example": "/mini_logo_images/original/missing.png"
                              }
                            },
                            "required": [
                              "background_color",
                              "image_color",
                              "black_theme",
                              "logo_image",
                              "mini_logo_image"
                            ]
                          },
                          "with_stores_total": {
                            "type": "integer",
                            "description": "Количество магазинов у ритейлера подходящих под условие",
                            "example": 12
                          },
                          "requirements": {
                            "type": "array",
                            "description": "Дополнительные особенности ритейлера. Например alcohol, что подразумевает необходимость скрытия под плашкой 18+",
                            "items": {
                              "type": "object",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "description": "Тип",
                                  "example": "alcohol"
                                },
                                "title": {
                                  "type": "string",
                                  "description": "Наименование",
                                  "example": "Алкоголь"
                                }
                              },
                              "required": [
                                "type",
                                "title"
                              ]
                            }
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "slug",
                          "available",
                          "environment",
                          "appearance",
                          "requirements"
                        ]
                      }
                    }
                  },
                  "required": [
                    "retailers"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Ошибка валидации параметров",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Недопустимые параметры запроса: city_id: должно быть integer"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Недопустимые параметры запроса: city_id: должно быть integer",
                    "human_message": "Недопустимые параметры запроса: city_id: должно быть integer"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/reviewable_shipment": {
      "get": {
        "summary": "Получение информации о доставке для окна оценки",
        "tags": [
          "Review"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "client-ver",
            "in": "header",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успех",
            "examples": {
              "application/json": {
                "reviewable_shipment": {
                  "number": "H70743402605",
                  "order": {
                    "number": "T20241"
                  },
                  "delivery_window": {
                    "id": 42,
                    "starts_at": "2022-02-03T09:00:00.000+03:00",
                    "ends_at": "2022-02-03T12:00:00.000+03:00",
                    "weight_balance": 399500,
                    "items_count_balance": 299,
                    "kind": "courier",
                    "delivery_forecast_text": null,
                    "estimate_source": "one_hour_slot",
                    "estimate_minutes_min": 1235,
                    "estimate_minutes_max": 1415,
                    "lifetime": null,
                    "is_express_delivery": false
                  },
                  "retailer": {
                    "id": 62,
                    "name": "METRO744",
                    "slug": "metro744",
                    "color": "#003d7a",
                    "logo_background_color": "#003d7a",
                    "logo": "",
                    "available": true,
                    "environment": "production",
                    "appearance": null,
                    "requirements": [

                    ]
                  },
                  "review_issues": [

                  ],
                  "shipping_team_members": [

                  ]
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "reviewable_shipment"
                  ],
                  "properties": {
                    "reviewable_shipment": {
                      "$ref": "#/components/schemas/reviewable_shipment"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/searches/suggestions/top_phrases": {
      "get": {
        "summary": "Список популярных запросов",
        "tags": [
          "Search"
        ],
        "parameters": [
          {
            "name": "sid",
            "in": "query",
            "description": "Идентификатор магазина",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "success",
            "examples": {
              "application/json": {
                "top_phrases": [

                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "top_phrases"
                  ],
                  "properties": {
                    "top_phrases": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/sessions/{id}": {
      "get": {
        "summary": "Получить объекта сессии по Access token",
        "tags": [
          "Sessions"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Access token пользователя",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Объект сессии получен",
            "examples": {
              "application/json": {
                "session": {
                  "access_token": "c2ee8d6beeaed7037fa2dc3f50115e42",
                  "expires_at": "2023-02-02T12:25:20.000+03:00",
                  "is_valid": true
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "session": {
                      "$ref": "#/components/schemas/session"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Не найдена сессия для данного access_token",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Сессия не найдена"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Сессия не найдена",
                    "human_message": "Сессия не найдена"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/shipments/active": {
      "get": {
        "summary": "Получить список активных шипментов",
        "tags": [
          "Shipments"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "store_id",
            "in": "query",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Список активных шипментов",
            "examples": {
              "application/json": [
                {
                  "id": 33,
                  "number": "H18375441141",
                  "state": "ready",
                  "store_id": 68,
                  "order": {
                    "number": "T20243"
                  },
                  "delay": null,
                  "delivery_window": {
                    "id": 43,
                    "starts_at": "2022-02-03T09:00:00.000+03:00",
                    "ends_at": "2022-02-03T12:00:00.000+03:00",
                    "weight_balance": 400000,
                    "items_count_balance": 300,
                    "kind": "courier",
                    "delivery_forecast_text": null,
                    "estimate_source": "one_hour_slot",
                    "estimate_minutes_min": 1235,
                    "estimate_minutes_max": 1415,
                    "lifetime": null,
                    "is_express_delivery": false
                  },
                  "retailer": {
                    "id": 64,
                    "name": "METRO750",
                    "slug": "metro750",
                    "color": "#003d7a",
                    "logo_background_color": "#003d7a",
                    "logo": "",
                    "available": true,
                    "environment": "production",
                    "requirements": [

                    ]
                  },
                  "merge": {
                    "possible": true,
                    "impossibility_reason": null
                  },
                  "line_items": [
                    {
                      "id": 37,
                      "quantity": 1,
                      "packs": 1,
                      "price": 1000.0,
                      "total": 1000.0,
                      "promo_total": 0.0,
                      "discount": 0.0,
                      "customer_comment": null,
                      "product_in_stock": true,
                      "total_diff": 0.0,
                      "unit_price": 1000.0,
                      "unit_quantity": 0.5,
                      "uuid": "2a85a002-813f-48fd-b031-35862b8fcf03",
                      "product": {
                        "id": 55,
                        "sku": "20245",
                        "active": true,
                        "retailer_sku": "0000000091",
                        "name": "Product #93",
                        "price": 1000.0,
                        "original_price": 1000.0,
                        "discount": 0.0,
                        "human_volume": "100 г.",
                        "volume": 100.0,
                        "volume_type": "weight",
                        "items_per_pack": 1,
                        "discount_ends_at": null,
                        "price_type": "per_kilo",
                        "grams_per_unit": 500,
                        "unit_price": 1000.0,
                        "original_unit_price": 1000.0,
                        "promo_badge_ids": [

                        ],
                        "labels": [

                        ],
                        "score": null,
                        "score_details": {
                          "comment_count": null
                        },
                        "images": [

                        ],
                        "requirements": [

                        ]
                      }
                    }
                  ]
                },
                {
                  "id": 34,
                  "number": "H08258167572",
                  "state": "ready",
                  "store_id": 68,
                  "order": {
                    "number": "T20246"
                  },
                  "delay": null,
                  "delivery_window": {
                    "id": 44,
                    "starts_at": "2022-02-03T09:00:00.000+03:00",
                    "ends_at": "2022-02-03T12:00:00.000+03:00",
                    "weight_balance": 400000,
                    "items_count_balance": 300,
                    "kind": "courier",
                    "delivery_forecast_text": null,
                    "estimate_source": "one_hour_slot",
                    "estimate_minutes_min": 1235,
                    "estimate_minutes_max": 1415,
                    "lifetime": null,
                    "is_express_delivery": false
                  },
                  "retailer": {
                    "id": 64,
                    "name": "METRO750",
                    "slug": "metro750",
                    "color": "#003d7a",
                    "logo_background_color": "#003d7a",
                    "logo": "",
                    "available": true,
                    "environment": "production",
                    "requirements": [

                    ]
                  },
                  "merge": {
                    "possible": false,
                    "impossibility_reason": {
                      "code": "too_heavy",
                      "title": "Заказ принят",
                      "description": "Заказ тяжёлый, добавить товары не получится"
                    }
                  },
                  "line_items": [
                    {
                      "id": 39,
                      "quantity": 1,
                      "packs": 1,
                      "price": 1000.0,
                      "total": 1000.0,
                      "promo_total": 0.0,
                      "discount": 0.0,
                      "customer_comment": null,
                      "product_in_stock": true,
                      "total_diff": 0.0,
                      "unit_price": 1000.0,
                      "unit_quantity": 0.5,
                      "uuid": "a59be229-dc10-43f1-b7e7-c20ad8d0650e",
                      "product": {
                        "id": 57,
                        "sku": "20248",
                        "active": true,
                        "retailer_sku": "0000000093",
                        "name": "Product #95",
                        "price": 1000.0,
                        "original_price": 1000.0,
                        "discount": 0.0,
                        "human_volume": "100 г.",
                        "volume": 100.0,
                        "volume_type": "weight",
                        "items_per_pack": 1,
                        "discount_ends_at": null,
                        "price_type": "per_kilo",
                        "grams_per_unit": 500,
                        "unit_price": 1000.0,
                        "original_unit_price": 1000.0,
                        "promo_badge_ids": [

                        ],
                        "labels": [

                        ],
                        "score": null,
                        "score_details": {
                          "comment_count": null
                        },
                        "images": [

                        ],
                        "requirements": [

                        ]
                      }
                    }
                  ]
                }
              ]
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/active_shipment"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Не авторизован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
            }
          }
        }
      }
    },
    "/v2/shipments/{shipment_id}/clones": {
      "post": {
        "summary": "Повтор шипмента",
        "tags": [
          "Shipments"
        ],
        "description": "Повтор шипмента",
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "shipment_id",
            "in": "path",
            "description": "Идентификатор шипмента",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Api-Version",
            "in": "header",
            "schema": {
              "type": "number",
              "enum": [
                "2.0",
                "2.1",
                "2.2"
              ]
            },
            "default": "2.0",
            "description": "Требуемая версия АПИ"
          }
        ],
        "responses": {
          "200": {
            "description": "Повторный шипмент получен",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20268",
                  "total": 0,
                  "item_count": 0,
                  "item_count_in_stock": 0,
                  "item_total": 0,
                  "item_discount_total": 0,
                  "ship_total": 0,
                  "adjustment_total": 0,
                  "promo_total": 0,
                  "sber_spasibo_total": null,
                  "shipment_state": null,
                  "shipping_method_kind": "pickup",
                  "payment_state": null,
                  "special_instructions": null,
                  "created_at": "2022-02-02T12:25:24.000+03:00",
                  "updated_at": "2022-02-02T12:25:24.000+03:00",
                  "completed_at": null,
                  "email": "test991@test.ru",
                  "uuid": "'1bc89d27-9b14-4407--160",
                  "total_weight": 0,
                  "discounts": [

                  ],
                  "installment_plan": null,
                  "deliveries_info": null,
                  "address": {
                    "id": 75,
                    "first_name": "Ivan",
                    "last_name": "Fedorov",
                    "full_address": "Москва, 59th street, 56 c.3",
                    "city": "Москва",
                    "phone": "74951112233",
                    "street": "59th street",
                    "building": "56 c.3",
                    "block": "1",
                    "entrance": "1",
                    "floor": "1",
                    "apartment": null,
                    "comments": null,
                    "lat": 5.0,
                    "lon": 5.0,
                    "kind": null,
                    "door_phone": null,
                    "delivery_to_door": false
                  },
                  "payment": null,
                  "replacement_policy": null,
                  "shipments": [

                  ],
                  "promotion_codes": [

                  ],
                  "company": null
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "order": {
                      "$ref": "#/components/schemas/order"
                    }
                  },
                  "required": [
                    "order"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Повтор шипмента недоступен. Возможные причины: <br />\nРитейлер недоступен: retailer_unavailable <br />\nМагазин не доставляет по адресу: delivery_to_address_from_store_unavailable <br />\nСамовывоз из магазина недоступен: pickup_store_unavailable <br />\nМагазин недоступен: store_unavailable\n",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Самовывоз из магазина не работает. Пожалуйста, выберите другой"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Самовывоз из магазина не работает. Пожалуйста, выберите другой",
                    "human_message": "Самовывоз из магазина не работает. Пожалуйста, выберите другой",
                    "type": "store_unavailable"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "retailer_unavailable",
                              "delivery_to_address_from_store_unavailable",
                              "pickup_store_unavailable",
                              "store_unavailable"
                            ],
                            "nullable": true
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/shipments/{shipment_number}/merge": {
      "post": {
        "summary": "Дозаказ - новый вариант с передачей целевого шипмента",
        "tags": [
          "Merge"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "shipment_number",
            "in": "path",
            "description": "Номер шимпента",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успех",
            "examples": {
              "application/json": {
                "order": {
                  "number": "T20279",
                  "total": 3490.0,
                  "item_count": 3,
                  "item_count_in_stock": 3,
                  "item_total": 3000.0,
                  "item_discount_total": 0.0,
                  "ship_total": 490.0,
                  "adjustment_total": 0.0,
                  "promo_total": 0.0,
                  "sber_spasibo_total": 0.0,
                  "shipment_state": "ready",
                  "shipping_method_kind": "by_courier",
                  "payment_state": "not_paid",
                  "special_instructions": null,
                  "created_at": "2022-02-02T12:25:27.000+03:00",
                  "updated_at": "2022-02-02T12:25:28.000+03:00",
                  "completed_at": "2022-02-02T12:25:27.000+03:00",
                  "email": "test994@test.ru",
                  "uuid": "'1bc89d27-9b14-4407--166",
                  "total_weight": 1500,
                  "discounts": [

                  ],
                  "installment_plan": null,
                  "deliveries_info": null,
                  "address": {
                    "id": 83,
                    "first_name": "Ivan",
                    "last_name": "Fedorov",
                    "full_address": "Москва, 64th street, 56 c.3",
                    "city": "Москва",
                    "phone": "74951112233",
                    "street": "64th street",
                    "building": "56 c.3",
                    "block": "1",
                    "entrance": "1",
                    "floor": "1",
                    "apartment": null,
                    "comments": null,
                    "lat": 5.0,
                    "lon": 5.0,
                    "kind": null,
                    "door_phone": null,
                    "delivery_to_door": false
                  },
                  "payment": {
                    "number": "YYA4V8LV",
                    "state": "checkout",
                    "is_finalization_needed": false,
                    "finalization_url": null
                  },
                  "replacement_policy": {
                    "id": 31,
                    "description": "translation missing: ru.spree.replacement_policy_descriptions.mobile.call36"
                  },
                  "shipments": [
                    {
                      "id": 48,
                      "number": "H86185053262",
                      "cost": 490.0,
                      "item_total": 3000.0,
                      "item_discount_total": 0.0,
                      "item_without_discount_total": 3000.0,
                      "total": 3490.0,
                      "state": "ready",
                      "alerts": [

                      ],
                      "promotions": [

                      ],
                      "next_deliveries": [
                        {
                          "id": 55,
                          "store_id": null,
                          "price": 490.0,
                          "summary": "завтра 09:00–12:00",
                          "starts_at": "2022-02-03T09:00:00.000+03:00",
                          "ends_at": "2022-02-03T12:00:00.000+03:00",
                          "express_delivery": false,
                          "delivery_forecast_text": null,
                          "estimate_source": "one_hour_slot",
                          "estimate_minutes_min": 1235,
                          "estimate_minutes_max": 1415,
                          "kind": "courier"
                        },
                        {
                          "id": 56,
                          "store_id": null,
                          "price": 490.0,
                          "summary": "завтра 09:00–12:00",
                          "starts_at": "2022-02-03T09:00:00.000+03:00",
                          "ends_at": "2022-02-03T12:00:00.000+03:00",
                          "express_delivery": false,
                          "delivery_forecast_text": null,
                          "estimate_source": "one_hour_slot",
                          "estimate_minutes_min": 1235,
                          "estimate_minutes_max": 1415,
                          "kind": "courier"
                        }
                      ],
                      "driver_name": null,
                      "driver_phone": null,
                      "total_weight": 1500,
                      "can_cancel": true,
                      "discounts": [

                      ],
                      "item_count": 3,
                      "item_count_in_stock": 3,
                      "checkout": true,
                      "delay": null,
                      "delivery_windows_limits": null,
                      "line_items": [
                        {
                          "id": 60,
                          "quantity": 1,
                          "packs": 1,
                          "price": 1000.0,
                          "total": 1000.0,
                          "promo_total": 0.0,
                          "discount": 0.0,
                          "customer_comment": null,
                          "product_in_stock": true,
                          "total_diff": 0.0,
                          "unit_price": 1000.0,
                          "unit_quantity": 0.5,
                          "uuid": "ac423d55-6f90-47d0-9a22-751a0d40190c",
                          "product": {
                            "id": 74,
                            "sku": "20278",
                            "active": true,
                            "retailer_sku": "0000000110",
                            "name": "Product #112",
                            "price": 1000.0,
                            "original_price": 1000.0,
                            "discount": 0.0,
                            "human_volume": "100 г.",
                            "volume": 100.0,
                            "volume_type": "weight",
                            "items_per_pack": 1,
                            "discount_ends_at": null,
                            "price_type": "per_kilo",
                            "grams_per_unit": 500,
                            "unit_price": 1000.0,
                            "original_unit_price": 1000.0,
                            "promo_badge_ids": [

                            ],
                            "labels": [

                            ],
                            "score": null,
                            "score_details": {
                              "comment_count": null
                            },
                            "images": [

                            ],
                            "requirements": [

                            ]
                          }
                        },
                        {
                          "id": 58,
                          "quantity": 2,
                          "packs": 2,
                          "price": 1000.0,
                          "total": 2000.0,
                          "promo_total": 0.0,
                          "discount": 0.0,
                          "customer_comment": null,
                          "product_in_stock": true,
                          "total_diff": 0.0,
                          "unit_price": 1000.0,
                          "unit_quantity": 1.0,
                          "uuid": "900ae3fb-cc4d-4bc6-a2e4-a1d71449559a",
                          "product": {
                            "id": 75,
                            "sku": "20280",
                            "active": true,
                            "retailer_sku": "0000000111",
                            "name": "Product #113",
                            "price": 1000.0,
                            "original_price": 1000.0,
                            "discount": 0.0,
                            "human_volume": "100 г.",
                            "volume": 100.0,
                            "volume_type": "weight",
                            "items_per_pack": 1,
                            "discount_ends_at": null,
                            "price_type": "per_kilo",
                            "grams_per_unit": 500,
                            "unit_price": 1000.0,
                            "original_unit_price": 1000.0,
                            "promo_badge_ids": [

                            ],
                            "labels": [

                            ],
                            "score": null,
                            "score_details": {
                              "comment_count": null
                            },
                            "images": [

                            ],
                            "requirements": [

                            ]
                          }
                        }
                      ],
                      "shipping_team_members": [

                      ],
                      "requirements": [

                      ],
                      "delivery_window": {
                        "id": 56,
                        "starts_at": "2022-02-03T09:00:00.000+03:00",
                        "ends_at": "2022-02-03T12:00:00.000+03:00",
                        "weight_balance": 398500,
                        "items_count_balance": 298,
                        "kind": "courier",
                        "delivery_forecast_text": null,
                        "estimate_source": "one_hour_slot",
                        "estimate_minutes_min": 1235,
                        "estimate_minutes_max": 1415,
                        "lifetime": null,
                        "is_express_delivery": false
                      },
                      "retailer": {
                        "id": 70,
                        "name": "METRO768",
                        "slug": "metro768",
                        "color": "#003d7a",
                        "logo_background_color": "#003d7a",
                        "logo": "",
                        "available": true,
                        "environment": "production",
                        "retailer_agreement": {
                          "agreement_type": "oferta_b",
                          "url": "/oferta_b"
                        },
                        "appearance": null,
                        "requirements": [

                        ]
                      },
                      "external_partners_service": null,
                      "payment": {
                        "number": "YYA4V8LV",
                        "state": "checkout",
                        "is_finalization_needed": false,
                        "finalization_url": null
                      },
                      "on_demand_estimate": null,
                      "store": {
                        "id": 79,
                        "name": "METRO768, 123th street",
                        "uuid": "47bf9684-0cc1-4c16-b38c-42bfe7f1b460",
                        "location": {
                          "id": 44,
                          "full_address": "Москва, 123th street, 56 c.3",
                          "city": "Москва",
                          "street": "123th street",
                          "building": "56 c.3",
                          "lat": 5.0,
                          "lon": 5.0
                        }
                      }
                    }
                  ],
                  "promotion_codes": [

                  ],
                  "company": null
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/order"
                }
              }
            }
          },
          "404": {
            "description": "Запрещено - целевой шипмент не найден",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Доставка не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Доставка не существует",
                    "human_message": "Доставка не существует"
                  }
                ]
              }
            },
            "content": {
            }
          },
          "422": {
            "description": "Ошибка валидации - дозаказ невозможен",
            "examples": {
              "application/json": {
                "errors": {
                  "invalid_shipment_state_shipping": "Заказ в пути. Можно оставить товар в корзине — если захотите добавить к следующему заказу",
                  "shipping_category_id": "Категории доставки не совпадают или в дозаказе участвует алкоголь"
                },
                "error_messages": [
                  {
                    "field": "shipping_category_id",
                    "message": "Категории доставки не совпадают или в дозаказе участвует алкоголь",
                    "human_message": "Категории доставки не совпадают или в дозаказе участвует алкоголь"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/error"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "target_shipment_number": {
                    "type": "string",
                    "description": "Hoмер целевого шипмента для дозаказа",
                    "required": true
                  }
                },
                "required": [
                  "target_shipment_number"
                ]
              }
            }
          }
        }
      },
      "put": {
        "summary": "Дозаказ - старый вариант",
        "tags": [
          "Merge"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "shipment_number",
            "in": "path",
            "description": "Номер шимпента",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Ошибка валидации - дозаказ невозможен",
            "examples": {
              "application/json": {
                "state": "check_failed",
                "merged_to": "H16155871831",
                "reason": {
                  "shipment_id": 61,
                  "state": "no_active_orders"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "state": {
                      "type": "string",
                      "description": "Код состояния дозаказа (ok/check_failed)"
                    },
                    "merged_to": {
                      "type": "string",
                      "description": "Номер заказа, в который был произведен дозаказ"
                    },
                    "reason": {
                      "type": "object",
                      "properties": {
                        "shipment_id": {
                          "type": "integer"
                        },
                        "state": {
                          "type": "string",
                          "description": "Код причины невозможности дозаказа"
                        }
                      }
                    }
                  },
                  "required": [
                    "state",
                    "reason"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Запрещено (шипмент не того пользователя)",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Доставка не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Доставка не существует",
                    "human_message": "Доставка не существует"
                  }
                ]
              }
            },
            "content": {
            }
          }
        }
      }
    },
    "/v2/shipments/{shipment_number}/review_window_close": {
      "put": {
        "summary": "Регистрация закрытия окна оценки",
        "tags": [
          "Review"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "shipment_number",
            "in": "path",
            "description": "Номер шимпента",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Пользователь не аутентифицирован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/error"
                }
              }
            }
          },
          "204": {
            "description": "Успех",
            "examples": {
              "application/json": null
            },
            "content": {
            }
          },
          "422": {
            "description": "Можно оценивать только доставленные заказы",
            "examples": {
              "application/json": {
                "errors": {
                  "number": "может иметь значение меньшее или равное 255",
                  "state": "Оценка доступна только для доставленных заказов"
                },
                "error_messages": [
                  {
                    "field": "state",
                    "message": "Оценка доступна только для доставленных заказов",
                    "human_message": "Оценка доступна только для доставленных заказов"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/error"
                }
              }
            }
          },
          "404": {
            "description": "Shipment не найден",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Доставка не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Доставка не существует",
                    "human_message": "Доставка не существует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/error"
                }
              }
            }
          },
          "403": {
            "description": "Заказ не принадлежит пользователю",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Пользователь не может выполнить это действие"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Пользователь не может выполнить это действие",
                    "human_message": "Пользователь не может выполнить это действие"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/error"
                }
              }
            }
          }
        }
      }
    },
    "/v2/shipments/{shipment_number}/reviews": {
      "post": {
        "summary": "Добавить отклик к заказу",
        "tags": [
          "Shipments"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "shipment_number",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "successful",
            "examples": {
              "application/json": {
                "shipment_review": {
                  "id": 1,
                  "rate": 3,
                  "comment": "test",
                  "call_back": true,
                  "images": [

                  ],
                  "issues": [
                    {
                      "id": 1,
                      "position": 0,
                      "description": "Courier late",
                      "comment_needed": false,
                      "min_rate": 1,
                      "max_rate": 3
                    },
                    {
                      "id": 2,
                      "position": 1,
                      "description": "The courier did not have a change",
                      "comment_needed": false,
                      "min_rate": 1,
                      "max_rate": 3
                    }
                  ]
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/review"
                }
              }
            }
          },
          "403": {
            "description": "unauthorized",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Пользователь не может выполнить это действие"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Пользователь не может выполнить это действие",
                    "human_message": "Пользователь не может выполнить это действие"
                  }
                ]
              }
            },
            "content": {
            }
          },
          "401": {
            "description": "Не авторизован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "review": {
                    "type": "object",
                    "properties": {
                      "rate": {
                        "type": "integer"
                      },
                      "comment": {
                        "type": "string"
                      },
                      "call_back": {
                        "type": "boolean",
                        "nullable": false
                      },
                      "issue_ids": {
                        "type": "array",
                        "items": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/shipments/{shipment_id}/state": {
      "get": {
        "summary": "Получение состояния шипмента",
        "tags": [
          "Shipments"
        ],
        "security": [
          {
            "basic_auth": [

            ]
          }
        ],
        "parameters": [
          {
            "name": "shipment_id",
            "in": "path",
            "description": "Номер шимпента",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "If-None-Match",
            "in": "header",
            "required": false,
            "description": "ETag",
            "example": "MD5 hash",
            "schema": {
              "type": "string",
              "maxLength": 32
            }
          }
        ],
        "responses": {
          "304": {
            "description": "Статус шипмента не изменен",
            "examples": {
              "application/json": null
            },
            "content": {
            }
          },
          "200": {
            "description": "Успех",
            "examples": {
              "application/json": {
                "state": "pending"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "state": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "state"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Запрещено (не тот пользователь)",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Пользователь не может выполнить это действие"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Пользователь не может выполнить это действие",
                    "human_message": "Пользователь не может выполнить это действие"
                  }
                ]
              }
            },
            "content": {
            }
          }
        }
      }
    },
    "/v2/stores/for_map": {
      "get": {
        "summary": "Получение магазинов для вывода на карте",
        "tags": [
          "Stores"
        ],
        "description": "Получение магазинов для вывода на карте",
        "parameters": [
          {
            "name": "bbox",
            "in": "query",
            "required": true,
            "pattern": "^\\d+\\.\\d+,\\d+\\.\\d+~\\d+\\.\\d+,\\d+\\.\\d+$",
            "example": "10.9,9.9~11.1,10.1",
            "description": "Boundary box в формате левый нижний угол(lon, lat)~правый верхний угол(lon,lat)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "shipping_method",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "by_courier",
                "by_courier_for_companies",
                "pickup"
              ]
            },
            "description": "Фильтр по доступному способу доставки, по умолчанию pickup",
            "required": false,
            "default": "pickup"
          },
          {
            "name": "retailer_ids",
            "in": "query",
            "required": false,
            "description": "Фильтр по ритейлеру",
            "example": "1,2",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список получен",
            "examples": {
              "application/json": {
                "stores": [

                ],
                "retailers": [

                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "stores": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "lat": {
                            "type": "number"
                          },
                          "lon": {
                            "type": "number"
                          },
                          "full_address": {
                            "type": "string"
                          },
                          "retailer_id": {
                            "type": "integer"
                          },
                          "work_hours": {
                            "type": "string",
                            "description": "Строка с временем работы магазина для вывода"
                          },
                          "marked": {
                            "type": "boolean",
                            "description": "Отметка о необходимости выделить этот магазин на карте"
                          }
                        },
                        "required": [
                          "id",
                          "lat",
                          "lon",
                          "full_address",
                          "retailer_id",
                          "work_hours",
                          "marked"
                        ]
                      }
                    },
                    "retailers": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Идентификатор ритейлера"
                          },
                          "name": {
                            "type": "string",
                            "description": "Наименвоание ритейлера"
                          },
                          "appearence": {
                            "type": "object",
                            "properties": {
                              "background_color": {
                                "type": "string"
                              },
                              "image_color": {
                                "type": "string"
                              },
                              "black_theme": {
                                "type": "boolean"
                              },
                              "logo_image": {
                                "type": "string"
                              },
                              "side_image": {
                                "type": "string"
                              },
                              "mini_logo_image": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "background_color",
                              "image_color",
                              "black_theme",
                              "logo_image",
                              "side_image",
                              "mini_logo_image"
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "appearance"
                        ]
                      }
                    }
                  },
                  "required": [
                    "stores",
                    "retailers"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Ошибки валидации, возможные причины: <br />\nНеправильно передан один из основных параметров: будет текст об ошибке <br />\nНевалидный зум, попробуйте сузить зону поиска: bbox_distance_violation\n",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Пожалуйста, попробуйте сузить зону поиска"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Пожалуйста, попробуйте сузить зону поиска",
                    "human_message": "Пожалуйста, попробуйте сузить зону поиска",
                    "type": "bbox_distance_violation"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "bbox_distance_violation"
                            ],
                            "nullable": true
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/stores": {
      "get": {
        "summary": "Получить список магазинов",
        "tags": [
          "Stores"
        ],
        "parameters": [
          {
            "name": "lat",
            "in": "query",
            "description": "Широта адреса доставки, обязателен до версии 2.2. После 2.2 не обязателен для самовывоза",
            "example": "55.844041",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "lon",
            "in": "query",
            "description": "Долгота адреса доставки, обязателен до версии 2.2. После 2.2 не обязателен для самовывоза",
            "example": "37.66265",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "shipping_method",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "pickup",
                "by_courier"
              ]
            },
            "description": "Способ доставки. Соответствует значению spree_shipping_methods.kind",
            "required": true,
            "example": "by_courier"
          },
          {
            "name": "operational_zone_id",
            "in": "query",
            "nullable": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "city_id",
            "in": "query",
            "description": "Идентификатор города",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "retailer_id",
            "in": "query",
            "description": "Идентификатор ритейлера",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "radius",
            "in": "query",
            "example": -1,
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": -1,
              "maximum": 50000
            },
            "description": "Ограничение радиуса поиска магазинов самовывоза. Работает только с lat/lon и shipping_method=pickup"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "example": 1,
            "default": 1,
            "description": "Номер запрашиваемой порции данных. Начиная с версии 2.2"
          },
          {
            "name": "per_page",
            "in": "query",
            "default": 10,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Лимит возвращаемых записей. Начиная с версии 2.2"
          },
          {
            "name": "Api-Version",
            "in": "header",
            "schema": {
              "type": "number",
              "enum": [
                "2.0",
                "2.1",
                "2.2"
              ]
            },
            "default": "2.0",
            "description": "Требуемая версия АПИ"
          }
        ],
        "responses": {
          "200": {
            "description": "Получение списка магазинов",
            "examples": {
              "application/json": {
                "stores": [
                  {
                    "id": 110,
                    "name": "METRO879, 154th street",
                    "zones": [

                    ],
                    "uuid": "352c0bb7-0147-4bdc-8c46-273324cac472",
                    "express_delivery": false,
                    "min_order_amount": 0.0,
                    "min_first_order_amount": 0.0,
                    "min_order_amount_pickup": 0.0,
                    "min_first_order_amount_pickup": 0.0,
                    "available_for_pickup": true,
                    "pickup_starts_at": "10:00",
                    "pickup_ends_at": "22:00",
                    "distance": null,
                    "delivery_forecast_text": null,
                    "estimate_source": "one_hour_slot",
                    "estimate_minutes_min": null,
                    "estimate_minutes_max": null,
                    "city_id": 111,
                    "on_demand": false,
                    "promo_shield": null,
                    "label_uuids": [
                      "1b711b79-0ede-4bac-b40f-7bc624fd0c28"
                    ],
                    "retailer": {
                      "id": 101,
                      "name": "METRO879",
                      "slug": "metro879",
                      "color": "#003d7a",
                      "logo_background_color": "#003d7a",
                      "logo": "",
                      "available": true,
                      "environment": "production",
                      "appearance": null,
                      "requirements": [

                      ]
                    },
                    "location": {
                      "id": 75,
                      "full_address": "Москва, 154th street, 56 c.3",
                      "city": "Москва",
                      "street": "154th street",
                      "building": "56 c.3",
                      "lat": 5.0,
                      "lon": 5.0
                    },
                    "licenses": [

                    ],
                    "services": [

                    ]
                  },
                  {
                    "id": 109,
                    "name": "METRO876, 153th street",
                    "zones": [

                    ],
                    "uuid": "f4145205-9063-4ee1-83a7-d184ae7e964d",
                    "express_delivery": false,
                    "min_order_amount": 0.0,
                    "min_first_order_amount": 0.0,
                    "min_order_amount_pickup": 0.0,
                    "min_first_order_amount_pickup": 0.0,
                    "available_for_pickup": true,
                    "pickup_starts_at": "10:00",
                    "pickup_ends_at": "22:00",
                    "distance": null,
                    "delivery_forecast_text": null,
                    "estimate_source": "one_hour_slot",
                    "estimate_minutes_min": null,
                    "estimate_minutes_max": null,
                    "city_id": 110,
                    "on_demand": false,
                    "promo_shield": null,
                    "label_uuids": [
                      "ad2c2256-f050-44af-b1b3-7c471f948e48"
                    ],
                    "retailer": {
                      "id": 100,
                      "name": "METRO876",
                      "slug": "metro876",
                      "color": "#003d7a",
                      "logo_background_color": "#003d7a",
                      "logo": "",
                      "available": true,
                      "environment": "production",
                      "appearance": null,
                      "requirements": [

                      ]
                    },
                    "location": {
                      "id": 74,
                      "full_address": "Москва, 153th street, 56 c.3",
                      "city": "Москва",
                      "street": "153th street",
                      "building": "56 c.3",
                      "lat": 5.0,
                      "lon": 5.0
                    },
                    "licenses": [
                      {
                        "kind": "alcohol",
                        "number": "ALC-001",
                        "issue_date": "2021-08-04",
                        "end_date": "2121-08-04"
                      }
                    ],
                    "services": [

                    ]
                  }
                ],
                "store_labels": [
                  {
                    "uuid": "1b711b79-0ede-4bac-b40f-7bc624fd0c28",
                    "title": "Быстрая доставка",
                    "subtitle": "Довезем за 30 минут",
                    "code": "express_delivery",
                    "icon": "fa-delivery"
                  },
                  {
                    "uuid": "ad2c2256-f050-44af-b1b3-7c471f948e48",
                    "title": "Быстрая доставка",
                    "subtitle": "Довезем за 30 минут",
                    "code": "express_delivery",
                    "icon": "fa-delivery"
                  }
                ],
                "meta": {
                  "current_page": 1,
                  "next_page": null,
                  "total_pages": 1,
                  "per_page": 20,
                  "total_count": 2
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "stores": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Идентификатор магазина"
                          },
                          "name": {
                            "type": "string",
                            "description": "Название магазина"
                          },
                          "zones": {
                            "type": "array",
                            "items": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "lon": {
                                    "type": "number",
                                    "example": "55.844041"
                                  },
                                  "lat": {
                                    "type": "number",
                                    "example": "37.66265"
                                  }
                                },
                                "required": [
                                  "lon",
                                  "lat"
                                ]
                              }
                            }
                          },
                          "uuid": {
                            "type": "string",
                            "example": "a939e05f-968e-4321-9a8e-799fbff60fcb"
                          },
                          "express_delivery": {
                            "type": "boolean",
                            "description": "Флаг доступности быстрой доставки",
                            "example": false
                          },
                          "min_order_amount": {
                            "type": "number",
                            "description": "Минимальная сумма заказа",
                            "example": 0.1
                          },
                          "min_first_order_amount": {
                            "type": "number",
                            "description": "Минимальная сумма первого заказа",
                            "example": 0.1
                          },
                          "min_order_amount_pickup": {
                            "type": "number",
                            "description": "Минимальная сумма заказа (Самовывоз)",
                            "example": 10.4
                          },
                          "min_first_order_amount_pickup": {
                            "type": "number",
                            "description": "Минимальная сумма первого заказа (Самовывоз)",
                            "example": 10.2
                          },
                          "available_for_pickup": {
                            "type": "boolean",
                            "description": "Доступен самовывоз",
                            "example": true
                          },
                          "pickup_starts_at": {
                            "type": "string",
                            "description": "Время начала работы самовывоза в магазине",
                            "example": "10:00"
                          },
                          "pickup_ends_at": {
                            "type": "string",
                            "description": "Время окончания работы самовывоза в магазине",
                            "example": "22:00"
                          },
                          "distance": {
                            "type": "number",
                            "description": "Растояние до магазина",
                            "nullable": true
                          },
                          "city_id": {
                            "type": "integer",
                            "description": "Идентификатор города",
                            "example": 28
                          },
                          "label_uuids": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "example": "016488b9-1d16-4776-b9c0-b1d709ac46f2"
                            }
                          },
                          "retailer": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 10
                              },
                              "name": {
                                "type": "string",
                                "description": "Наименвоание ритейлера",
                                "example": "Семерочка"
                              },
                              "color": {
                                "type": "string",
                                "example": "#ff0000"
                              },
                              "logo": {
                                "type": "string",
                                "description": "Логотип ритейлера",
                                "example": "https://stf-18.k-stage.sbermarket.tech/spree/retailer_logos/97342/default/auchan-logo.png?1536325973"
                              },
                              "available": {
                                "type": "boolean",
                                "example": true
                              },
                              "environment": {
                                "type": "string",
                                "example": "production",
                                "nullable": true
                              },
                              "appearance": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": false,
                                "properties": {
                                  "background_color": {
                                    "type": "string",
                                    "example": "#6039b0"
                                  },
                                  "image_color": {
                                    "type": "string",
                                    "example": "#d17777"
                                  },
                                  "black_theme": {
                                    "type": "boolean",
                                    "example": false
                                  },
                                  "logo_image": {
                                    "type": "string",
                                    "example": "https://storage.yandexcloud.net/object-storage-public-static-stage/stf-18/public//retailer_banners/11/logo_images/metro_logo.png?1613559653"
                                  },
                                  "side_image": {
                                    "type": "string",
                                    "example": "https://storage.yandexcloud.net/object-storage-public-static-stage/stf-18/public//retailer_banners/11/side_images/23.jpg?1613559654"
                                  },
                                  "mini_logo_image": {
                                    "type": "string",
                                    "example": "/mini_logo_images/original/missing.png"
                                  }
                                },
                                "required": [
                                  "background_color",
                                  "image_color",
                                  "black_theme",
                                  "logo_image",
                                  "mini_logo_image"
                                ]
                              }
                            },
                            "required": [
                              "id",
                              "name",
                              "color",
                              "logo",
                              "available",
                              "environment",
                              "appearance"
                            ]
                          },
                          "location": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 448298
                              },
                              "full_address": {
                                "type": "string",
                                "description": "Адрес",
                                "example": "ул. Центральная, д. 4"
                              },
                              "city": {
                                "type": "string",
                                "description": "Город",
                                "example": "Москва"
                              },
                              "street": {
                                "type": "string",
                                "description": "Улица",
                                "example": "просп. Мира"
                              },
                              "building": {
                                "type": "string",
                                "description": "Здание",
                                "example": "211, стр. 1"
                              },
                              "lat": {
                                "type": "number",
                                "example": 55.844041
                              },
                              "lon": {
                                "type": "number",
                                "example": 37.66265
                              }
                            },
                            "required": [
                              "id",
                              "full_address",
                              "city",
                              "street",
                              "building",
                              "lat",
                              "lon"
                            ]
                          },
                          "licenses": {
                            "type": "array",
                            "description": "Лицензии",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "kind",
                                "number",
                                "issue_date",
                                "end_date"
                              ],
                              "properties": {
                                "kind": {
                                  "type": "string",
                                  "example": "alcohol",
                                  "description": "Тип"
                                },
                                "number": {
                                  "type": "string",
                                  "example": "54РПА0002784",
                                  "description": "Номер"
                                },
                                "issue_date": {
                                  "type": "string",
                                  "format": "date",
                                  "example": "2021-08-03",
                                  "description": "Дата выдачи"
                                },
                                "end_date": {
                                  "type": "string",
                                  "format": "date",
                                  "example": "2121-08-03",
                                  "description": "Дата окончания действия (включительно)"
                                }
                              }
                            }
                          },
                          "services": {
                            "type": "array",
                            "description": "Доступные сервисы",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "key": {
                                  "type": "string"
                                },
                                "description": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "id",
                                "key",
                                "description"
                              ]
                            }
                          },
                          "next_delivery": {
                            "$ref": "#/components/schemas/next_delivery"
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "zones",
                          "uuid",
                          "express_delivery",
                          "min_order_amount",
                          "min_first_order_amount",
                          "min_order_amount_pickup",
                          "min_first_order_amount_pickup",
                          "available_for_pickup",
                          "label_uuids",
                          "retailer",
                          "location",
                          "licenses",
                          "services"
                        ]
                      }
                    },
                    "store_labels": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "uuid": {
                            "type": "string",
                            "example": "11024a33-ae59-4f1c-bbc0-2e0ad128e28e"
                          },
                          "title": {
                            "type": "string",
                            "example": "Быстрая доставка"
                          },
                          "subtitle": {
                            "type": "string",
                            "example": "Доставка за 15 минут из любого магазина"
                          },
                          "icon": {
                            "type": "string",
                            "example": "express"
                          },
                          "code": {
                            "type": "string",
                            "example": "express"
                          }
                        },
                        "required": [
                          "uuid",
                          "title",
                          "subtitle",
                          "icon"
                        ]
                      }
                    },
                    "meta": {
                      "type": "object",
                      "required": [
                        "current_page",
                        "next_page",
                        "total_pages",
                        "per_page",
                        "total_count"
                      ],
                      "properties": {
                        "current_page": {
                          "type": "integer",
                          "format": "integer32",
                          "minimum": 1,
                          "example": 1,
                          "description": "Номер текущей страницы"
                        },
                        "next_page": {
                          "type": "integer",
                          "example": 2,
                          "description": "Номер следующей страницы",
                          "format": "integer32",
                          "nullable": true
                        },
                        "total_pages": {
                          "type": "integer",
                          "format": "integer32",
                          "example": 2,
                          "minimum": 0,
                          "description": "Страниц всего"
                        },
                        "per_page": {
                          "type": "integer",
                          "format": "integer32",
                          "minimum": 1,
                          "example": 10,
                          "default": 10,
                          "description": "Количество записей на страницу"
                        },
                        "total_count": {
                          "type": "integer",
                          "format": "integer32",
                          "minimum": 0,
                          "example": 19,
                          "description": "Итоговое количество записей подходящих под выбранный фильтр"
                        }
                      }
                    }
                  },
                  "required": [
                    "stores",
                    "store_labels"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/ip": {
      "get": {
        "summary": "Получить IP клиента",
        "parameters": [
          {
            "name": "Client-Id",
            "in": "header",
            "required": true,
            "description": "Идентификатор клиента в заголовке запроса",
            "schema": {
              "type": "string",
              "enum": [
                "SbermarketAndroid",
                "SbermarketIOS"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "IP клиента получен",
            "examples": {
              "application/json": null
            },
            "content": {
            }
          },
          "404": {
            "description": "IP клиента не получен",
            "examples": {
              "application/json": null
            },
            "content": {
            }
          }
        }
      }
    },
    "/v2/user/companies": {
      "post": {
        "summary": "Создать компанию",
        "tags": [
          "Companies"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [

        ],
        "responses": {
          "200": {
            "description": "Компания успешно создана",
            "examples": {
              "application/json": {
                "company": {
                  "id": 10,
                  "inn": "4919521977",
                  "name": "ООО Банк"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "company": {
                      "$ref": "#/components/schemas/company"
                    }
                  },
                  "required": [
                    "company"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Некорректный формат ИНН",
            "examples": {
              "application/json": {
                "errors": {
                  "inn": "имеет неверный формат"
                },
                "error_messages": [
                  {
                    "field": "inn",
                    "message": "имеет неверный формат",
                    "human_message": "имеет неверный формат"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "inn": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "inn"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "company": {
                    "$ref": "#/components/schemas/company_create_body"
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Получить компании текущего пользователя",
        "tags": [
          "Companies"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Компании пользователя",
            "examples": {
              "application/json": {
                "companies": [
                  {
                    "id": 11,
                    "inn": "7318361795",
                    "name": "ACME corp"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "companies": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/company"
                      }
                    }
                  },
                  "required": [
                    "companies"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/user/companies/exist": {
      "get": {
        "summary": "Получить факт наличия компаний у пользователя",
        "tags": [
          "Companies"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "responses": {
          "200": {
            "description": "Факт наличия компаний у пользователя",
            "examples": {
              "application/json": {
                "companies_exist": true
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "companies_exist": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "companies_exist"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v2/user/company_employees": {
      "post": {
        "summary": "Прикрепить пользователя к компании",
        "tags": [
          "Companies"
        ],
        "security": [
          {
            "client_id_auth": [

            ],
            "client_token_auth": [

            ],
            "basic_auth": [

            ]
          }
        ],
        "parameters": [

        ],
        "responses": {
          "200": {
            "description": "Успешное прикрепление пользователя к компании",
            "examples": {
              "application/json": null
            },
            "content": {
            }
          },
          "404": {
            "description": "Компания не найдена",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Компания не существует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Компания не существует",
                    "human_message": "Компания не существует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Пользователь уже является сотрудником компании",
            "examples": {
              "application/json": {
                "errors": {
                  "company_security_code": "Неправильный код безопасности",
                  "user": "Превышено количество попыток ввода кода безопасности",
                  "company": "уже существует"
                },
                "error_messages": [
                  {
                    "field": "company",
                    "message": "уже существует",
                    "human_message": "уже существует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "company_security_code": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        },
                        "user": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        },
                        "company": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "company"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "403": {
            "description": "Неверные токен или id клиента",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Клиент не авторизован"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Клиент не авторизован",
                    "human_message": "Клиент не авторизован"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Пользователь не авторизован",
            "examples": {
              "application/json": {
                "errors": {
                  "base": "Ключ доступа невалиден или отсутствует"
                },
                "error_messages": [
                  {
                    "field": "base",
                    "message": "Ключ доступа невалиден или отсутствует",
                    "human_message": "Ключ доступа невалиден или отсутствует"
                  }
                ]
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "object",
                      "description": "Список ошибок",
                      "properties": {
                        "base": {
                          "type": "string",
                          "example": "Сообщение об ошибке"
                        }
                      }
                    },
                    "error_messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "description": "Поле с ошибкой",
                            "enum": [
                              "base"
                            ]
                          },
                          "message": {
                            "type": "string",
                            "example": "Сообщение об ошибке"
                          },
                          "human_message": {
                            "type": "string",
                            "example": "Сообщение об ошибке на человеческом языке"
                          }
                        }
                      }
                    }
                  },
                  "required": [
                    "errors",
                    "error_messages"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "company_inn": {
                    "type": "string",
                    "description": "ИНН компании"
                  },
                  "company_security_code": {
                    "type": "string",
                    "description": "Код безопасности компании"
                  }
                },
                "required": [
                  "company_inn",
                  "company_security_code"
                ]
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "client_id_auth": {
        "type": "apiKey",
        "name": "Client-Id",
        "in": "header",
        "description": "Идентификатор клиента"
      },
      "client_token_auth": {
        "type": "apiKey",
        "name": "Client-Token",
        "in": "header",
        "description": "Токен авторизации клиента"
      },
      "basic_auth": {
        "type": "http",
        "scheme": "basic"
      }
    },
    "schemas": {
      "notifications": {
        "OrderPaidEvent": {
          "type": "object",
          "properties": {
            "order_id": {
              "type": "string",
              "description": "Номер заказа",
              "example": "12345"
            }
          }
        }
      },
      "errors": {
        "V2ErrorResponse": {
          "type": "object",
          "properties": {
            "errors": {
              "type": "object",
              "properties": {
                "additionalProperties": {
                  "type": "string"
                }
              }
            },
            "error_messages": {
              "type": "array",
              "items": {
                "type": "object",
                "required": [
                  "field",
                  "message",
                  "human_message"
                ],
                "properties": {
                  "field": {
                    "type": "string"
                  },
                  "message": {
                    "type": "string"
                  },
                  "human_message": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "active_shipment": {
        "type": "object",
        "required": [
          "id",
          "number",
          "state",
          "retailer",
          "store_id",
          "delivery_window",
          "merge"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "number": {
            "type": "string",
            "example": "H25060043455"
          },
          "state": {
            "type": "string",
            "example": "shipping"
          },
          "retailer": {
            "$ref": "#/components/schemas/retailer"
          },
          "delay": {
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "text": {
                    "type": "string",
                    "example": "Задерживаемся, но очень торопимся"
                  }
                },
                "required": [
                  "text"
                ]
              },
              {
                "type": "null"
              }
            ]
          },
          "order": {
            "type": "object",
            "properties": {
              "number": {
                "type": "string",
                "example": "R0987654321"
              }
            }
          },
          "store_id": {
            "type": "integer",
            "example": 1
          },
          "delivery_window": {
            "$ref": "#/components/schemas/delivery_window"
          },
          "merge": {
            "$ref": "#/components/schemas/shipment_merge"
          },
          "line_items": {
            "type": "array",
            "description": "Позиции заказа",
            "items": {
              "$ref": "#/components/schemas/line_item"
            }
          }
        }
      },
      "address_attributes": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "first_name": {
            "type": "string",
            "description": "Имя"
          },
          "last_name": {
            "type": "string",
            "description": "Фамилия"
          },
          "city": {
            "type": "string",
            "description": "Населенный пункт"
          },
          "street": {
            "type": "string",
            "description": "Улица"
          },
          "bulding": {
            "type": "string",
            "description": "Дом"
          },
          "block": {
            "type": "string",
            "description": "Строение"
          },
          "entrance": {
            "type": "string",
            "description": "Подъезд"
          },
          "floor": {
            "type": "string",
            "description": "Этаж"
          },
          "apartment": {
            "type": "string",
            "description": "Номер квартиры / Офис"
          },
          "comments": {
            "type": "string",
            "description": "Комментарии"
          },
          "lon": {
            "type": "number",
            "format": "double",
            "description": "Долгота"
          },
          "lat": {
            "type": "number",
            "format": "double",
            "description": "Широта"
          },
          "door_phone": {
            "type": "string",
            "description": "Домофон"
          },
          "delivery_to_door": {
            "type": "boolean",
            "description": "Доставка до двери"
          },
          "instructions": {
            "type": "string"
          },
          "phone": {
            "type": "string",
            "description": "Телефон"
          }
        }
      },
      "address": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "first_name": {
            "type": "string",
            "description": "Имя",
            "nullable": true
          },
          "last_name": {
            "type": "string",
            "description": "Фамилия",
            "nullable": true
          },
          "full_address": {
            "type": "string",
            "description": "Адрес"
          },
          "city": {
            "type": "string",
            "description": "Населенный пункт"
          },
          "phone": {
            "type": "string",
            "description": "Телефон"
          },
          "street": {
            "type": "string",
            "description": "Улица"
          },
          "building": {
            "type": "string",
            "description": "Дом"
          },
          "block": {
            "type": "string",
            "description": "Строение",
            "nullable": true
          },
          "entrance": {
            "type": "string",
            "description": "Подъезд",
            "nullable": true
          },
          "floor": {
            "type": "string",
            "description": "Этаж",
            "nullable": true
          },
          "apartment": {
            "type": "string",
            "description": "Номер квартиры / Офис",
            "nullable": true
          },
          "comments": {
            "type": "string",
            "description": "Комментарии",
            "nullable": true
          },
          "lat": {
            "type": "number",
            "format": "double",
            "description": "Широта",
            "nullable": true
          },
          "lon": {
            "type": "number",
            "format": "double",
            "description": "Долгота",
            "nullable": true
          },
          "kind": {
            "type": "string",
            "nullable": true
          },
          "door_phone": {
            "type": "string",
            "description": "Домофон",
            "nullable": true
          },
          "delivery_to_door": {
            "type": "boolean",
            "description": "Доставка до двери"
          }
        }
      },
      "app_configuration": {
        "type": "object",
        "properties": {
          "acquiring": {
            "type": "object",
            "properties": {
              "cloudpayments": {
                "description": "Публичный ключ CloudPayments",
                "type": "string"
              },
              "sber": {
                "description": "Публичный ключ Sber",
                "type": "string",
                "nullable": true
              }
            },
            "required": [
              "cloudpayments",
              "sber"
            ]
          },
          "authentication": {
            "type": "object",
            "properties": {
              "cipher_key_phone": {
                "description": "Ключ шифрования номера телефона",
                "type": "string"
              }
            },
            "required": [
              "cipher_key_phone"
            ]
          },
          "contacts": {
            "type": "object",
            "properties": {
              "phone": {
                "description": "Телефон",
                "type": "string"
              },
              "telegram": {
                "description": "Телеграм",
                "type": "string"
              },
              "whatsapp": {
                "description": "Ватсап",
                "type": "string"
              },
              "email": {
                "description": "Email",
                "type": "string"
              }
            },
            "required": [
              "phone",
              "telegram",
              "whatsapp",
              "email"
            ]
          },
          "about_links": {
            "type": "object",
            "properties": {
              "faq": {
                "description": "Ссылка на FAQ",
                "type": "string",
                "nullable": true
              },
              "rules": {
                "description": "Ссылка на правила",
                "type": "string",
                "nullable": true
              },
              "terms": {
                "description": "Ссылка на условия",
                "type": "string",
                "nullable": true
              },
              "sberprime_faq": {
                "description": "Ссылка на FAQ по сберпрайму",
                "type": "string",
                "nullable": true
              }
            },
            "required": [
              "faq",
              "rules",
              "terms",
              "sberprime_faq"
            ]
          },
          "app_review": {
            "type": "object",
            "properties": {
              "mode": {
                "description": "Режим запроса оценки приложения",
                "type": "string",
                "nullable": true
              },
              "review_request_interval": {
                "description": "Интервал между запросами оценки в секундах",
                "type": "integer",
                "nullable": true
              },
              "review_interval_crash": {
                "description": "Интервал времени в секундах, который должен пройти с момента последнего крэша",
                "type": "integer",
                "nullable": true
              },
              "review_interval_network_error": {
                "description": "Интервал времени в секундах, который должен пройти с момента последней сетевой ошибки",
                "type": "integer",
                "nullable": true
              },
              "app_store_review_link": {
                "description": "Ссылка на AppStore",
                "type": "string",
                "nullable": true
              },
              "google_play_review_link": {
                "description": "Ссылка на Google Play",
                "type": "string",
                "nullable": true
              },
              "app_gallery_review_link": {
                "description": "Ссылка на AppGallery",
                "type": "string",
                "nullable": true
              }
            },
            "required": [
              "mode",
              "review_request_interval",
              "review_interval_crash",
              "review_interval_network_error",
              "app_store_review_link",
              "google_play_review_link",
              "app_gallery_review_link"
            ]
          },
          "app_versions": {
            "type": "object",
            "properties": {
              "ios": {
                "type": "object",
                "properties": {
                  "min": {
                    "description": "Минимальная поддерживаемая версия мобильного приложения на iOS",
                    "type": "string",
                    "nullable": true
                  },
                  "recommended": {
                    "description": "Рекомендуемая для установки версия мобильного приложения на iOS",
                    "type": "string",
                    "nullable": true
                  }
                },
                "required": [
                  "min",
                  "recommended"
                ]
              },
              "android": {
                "type": "object",
                "properties": {
                  "min": {
                    "description": "Минимальная поддерживаемая версия мобильного приложения на Android",
                    "type": "string",
                    "nullable": true
                  },
                  "recommended": {
                    "description": "Рекомендуемая для установки версия мобильного приложения на Android",
                    "type": "string",
                    "nullable": true
                  }
                },
                "required": [
                  "min",
                  "recommended"
                ]
              }
            },
            "required": [
              "ios",
              "android"
            ]
          },
          "analytics_url": {
            "type": "object",
            "properties": {
              "ios": {
                "description": "URL для отправки аналитики на iOS",
                "type": "string",
                "nullable": true
              },
              "android": {
                "description": "URL для отправки аналитики на Android",
                "type": "string",
                "nullable": true
              }
            },
            "required": [
              "ios",
              "android"
            ]
          },
          "analytics_key": {
            "type": "object",
            "properties": {
              "ios": {
                "description": "Ключ для отправки аналитики на iOS",
                "type": "string",
                "nullable": true
              },
              "android": {
                "description": "Ключ для отправки аналитики на Android",
                "type": "string",
                "nullable": true
              }
            },
            "required": [
              "ios",
              "android"
            ]
          },
          "web_view_whitelist": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "acquiring",
          "authentication",
          "contacts",
          "about_links",
          "app_review",
          "app_versions",
          "analytics_url",
          "analytics_key",
          "web_view_whitelist"
        ]
      },
      "taxon": {
        "type": "object",
        "required": [
          "id",
          "type",
          "name",
          "products_count",
          "promo_services",
          "position",
          "depth",
          "icon",
          "alt_icon",
          "requirements"
        ],
        "properties": {
          "id": {
            "description": "ID категории",
            "type": "integer"
          },
          "type": {
            "description": "Тип категории",
            "type": "string"
          },
          "name": {
            "description": "Название категории",
            "type": "string"
          },
          "products_count": {
            "description": "Число продуктов",
            "type": "integer"
          },
          "promo_services": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "position": {
            "type": "number"
          },
          "depth": {
            "type": "number"
          },
          "icon": {
            "type": "object",
            "properties": {
              "mini_url": {
                "type": "string"
              },
              "normal_url": {
                "type": "string"
              }
            }
          },
          "alt_icon": {
            "nullable": true,
            "description": "URL доп. иконки"
          },
          "requirements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/requirement"
            }
          },
          "appearance": {
            "type": "object",
            "properties": {
              "background_color": {
                "type": "string"
              },
              "height": {
                "type": "integer"
              },
              "width": {
                "type": "integer"
              },
              "original_url": {
                "type": "string"
              }
            }
          }
        }
      },
      "company_create_body": {
        "type": "object",
        "properties": {
          "inn": {
            "description": "ИНН компании",
            "type": "string"
          },
          "name": {
            "description": "Название компании",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "company_credentials": {
        "type": "object",
        "required": [
          "inn",
          "name"
        ],
        "properties": {
          "inn": {
            "type": "string",
            "description": "ИНН компании",
            "example": "694033955328"
          },
          "name": {
            "type": "string",
            "description": "Название компании",
            "example": "ИП Иванов Иван Иванович"
          },
          "owner_name": {
            "type": "string",
            "description": "Имя пользователя - администратора компании",
            "example": "Иван И.",
            "nullable": true
          }
        },
        "nullable": true
      },
      "company_document": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string",
            "description": "Юридическое лицо"
          },
          "inn": {
            "type": "string",
            "description": "Инн"
          },
          "kpp": {
            "type": "string",
            "description": "КПП"
          },
          "bik": {
            "type": "string",
            "description": "Бик"
          },
          "bank": {
            "type": "string",
            "description": "Банк"
          },
          "correspondent_account": {
            "type": "string",
            "description": "Корреспондентский счет"
          },
          "operating_account": {
            "type": "string",
            "description": "Расчетный счет"
          },
          "address": {
            "type": "string",
            "description": "Юридический адрес"
          }
        }
      },
      "company": {
        "type": "object",
        "properties": {
          "id": {
            "description": "Идентификатор компании",
            "type": "integer"
          },
          "inn": {
            "description": "ИНН компании",
            "type": "string"
          },
          "name": {
            "description": "Название компании",
            "type": "string"
          }
        },
        "required": [
          "id",
          "inn",
          "name"
        ],
        "nullable": true
      },
      "credit_card": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "title": {
            "type": "string",
            "nullable": true,
            "description": "Нзавание"
          },
          "name": {
            "type": "string",
            "description": "Имя держателя"
          },
          "year": {
            "type": "string",
            "description": "Год"
          },
          "month": {
            "type": "string",
            "description": "Месяц"
          },
          "last_digits": {
            "type": "string",
            "description": "Последние 4 цифры"
          },
          "state": {
            "type": "string",
            "description": "Состояние"
          },
          "cc_type": {
            "type": "string",
            "description": "Тип карты",
            "nullable": true
          },
          "eligible": {
            "type": "boolean",
            "description": "Можно использовать"
          }
        }
      },
      "delivery_window": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "starts_at": {
            "type": "string",
            "format": "date-time",
            "description": "Время начала слота доставки"
          },
          "ends_at": {
            "type": "string",
            "format": "date-time",
            "description": "Время окончания слота доставки"
          },
          "weight_balance": {
            "type": "integer",
            "description": "Вес заказа"
          },
          "items_count_balance": {
            "type": "integer",
            "description": "Кол-во позиций в заказе"
          },
          "kind": {
            "type": "string",
            "description": "Способ доставки"
          },
          "delivery_forecast_text": {
            "type": "string",
            "nullable": true,
            "description": "Интервал доставки в формате \"10:15–10:25\""
          },
          "lifetime": {
            "type": "integer",
            "nullable": true
          }
        }
      },
      "error": {
        "type": "object",
        "required": [
          "errors",
          "error_messages"
        ],
        "properties": {
          "errors": {
            "type": "object",
            "description": "список ошибок в формате <field>: <message>"
          },
          "error_messages": {
            "type": "array",
            "items": {
              "type": "object",
              "required": [
                "field",
                "message",
                "human_message"
              ],
              "properties": {
                "field": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                },
                "human_message": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "external_partners_service": {
        "type": "object",
        "propertires": {
          "id": {
            "description": "Идентификатор",
            "type": "integer"
          },
          "name": {
            "description": "Внутреннее, фиксированное название",
            "type": "string"
          },
          "kind": {
            "description": "Тип сервиса",
            "type": "string",
            "enum": [
              "sber_prime"
            ]
          },
          "text": {
            "description": "Локализированный маркетинговый текст",
            "type": "string"
          },
          "description": {
            "description": "Короткий текст",
            "type": "string"
          },
          "link": {
            "description": "URL для получения логотипа",
            "type": "string"
          },
          "logo_url": {
            "description": "Логотип",
            "type": "string"
          },
          "discount_type": {
            "description": "Тип скидки которую предоставляет сервис",
            "type": "string"
          },
          "subscription": {
            "description": "Подписка на сервис",
            "type": "object",
            "nullable": true,
            "properties": {
              "id": {
                "description": "Идентификатор сервиса",
                "type": "integer"
              },
              "active": {
                "description": "Статус подписки. True - если активна",
                "type": "boolean"
              },
              "begins_date": {
                "description": "Дата начала действия подписки",
                "type": "string"
              },
              "expired_date": {
                "description": "Дата окончания подписки",
                "type": "string"
              }
            },
            "required": [
              "id",
              "active",
              "begins_date",
              "expired_date"
            ]
          },
          "promo_discount": {
            "description": "Скидка по промокоду, если таковая есть",
            "type": "object",
            "nullable": true,
            "properties": {
              "text": {
                "description": "Текст промоакци",
                "type": "string"
              },
              "promocode": {
                "description": "Промокод",
                "type": "string"
              },
              "description": {
                "type": "object",
                "propertries": {
                  "title": {
                    "description": "Название промоакции",
                    "type": "string"
                  },
                  "text": {
                    "description": "Описание промоакции",
                    "type": "string"
                  }
                },
                "required": [
                  "title",
                  "text"
                ]
              }
            },
            "required": [
              "text",
              "promocode",
              "description"
            ]
          },
          "promo_increased_cashback": {
            "description": "Дополнительный процент кешбека",
            "type": "object",
            "nullable": true,
            "properties": {
              "description": {
                "type": "object",
                "propertries": {
                  "title": {
                    "description": "Название промоакции",
                    "type": "string"
                  },
                  "text": {
                    "description": "Описание промоакции",
                    "type": "string"
                  }
                },
                "required": [
                  "title",
                  "text"
                ]
              }
            },
            "required": [
              "description"
            ]
          }
        },
        "required": [
          "id",
          "name",
          "kind",
          "text",
          "description",
          "link",
          "logo_url",
          "discount_type",
          "subscription",
          "promo_discount"
        ]
      },
      "facet": {
        "type": "object",
        "required": [
          "key",
          "name",
          "type"
        ],
        "description": "API продуктов поддерживает фасетную фильтрацию списка продуктов. То есть выборка продуктов может быть уменьшена путем применения одного или нескольких фасетных фильтров. Данные необходимые для корректного отображения фасета хранятся в объекте Facet",
        "properties": {
          "key": {
            "type": "string",
            "description": "Имя параметра в запросе"
          },
          "name": {
            "type": "string",
            "description": "Название фасета"
          },
          "type": {
            "type": "string",
            "description": "Тип, определяющий вид контрола: селект, мультиселект, интервал и т.п.",
            "enum": [
              "multi_select",
              "toggle",
              "select"
            ]
          },
          "options": {
            "type": "array",
            "description": "Список значений фасета для фильтрации",
            "items": {
              "type": "object",
              "required": [
                "value",
                "count",
                "active"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": ""
                },
                "value": {
                  "type": "number",
                  "description": ""
                },
                "permalink": {
                  "type": "string",
                  "description": ""
                },
                "count": {
                  "type": "number",
                  "description": ""
                },
                "active": {
                  "type": "boolean",
                  "description": ""
                }
              }
            }
          }
        }
      },
      "feature_flag": {
        "type": "object",
        "properties": {
          "name": {
            "description": "Имя фичи",
            "type": "string",
            "example": "test_feature"
          },
          "enabled": {
            "description": "Статус",
            "type": "boolean"
          }
        },
        "required": [
          "name",
          "enabled"
        ]
      },
      "image": {
        "type": "object",
        "required": [
          "mini_url",
          "small_url",
          "product_url",
          "preview_url",
          "original_url"
        ],
        "properties": {
          "mini_url": {
            "type": "string"
          },
          "small_url": {
            "type": "string"
          },
          "product_url": {
            "type": "string"
          },
          "preview_url": {
            "type": "string"
          },
          "original_url": {
            "type": "string"
          }
        }
      },
      "instacoin_account": {
        "type": "object",
        "properties": {
          "amount": {
            "description": "Сумма бонусных рублей на счету",
            "type": "float"
          },
          "terms": {
            "description": "Правила получения бонусов",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "emoji": {
                  "description": "Эмоджи",
                  "type": "emoji"
                },
                "icon_url": {
                  "description": "URL иконки",
                  "type": "string",
                  "nullable": true
                },
                "html": {
                  "description": "Описание правила. Содержит теги HTML для форматирования",
                  "type": "string"
                }
              },
              "required": [
                "emoji",
                "icon_url",
                "html"
              ]
            }
          },
          "rules_link": {
            "description": "Ссылка на правила участия в реферальной программе",
            "type": "string"
          }
        },
        "required": [
          "amount",
          "terms",
          "rules_link"
        ]
      },
      "legal_entity": {
        "type": "object",
        "properties": {
          "address": {
            "description": "Юридический адрес компании или ИП",
            "type": "string"
          },
          "kpp": {
            "description": "КПП компании",
            "type": "string"
          },
          "name": {
            "description": "Название компании или ИП",
            "type": "string"
          }
        },
        "required": [
          "address",
          "name"
        ],
        "nullable": true
      },
      "line_item": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "quantity": {
            "type": "integer",
            "description": "Количество позиций товара"
          },
          "packs": {
            "type": "number",
            "description": "Количество упаковок, может быть дробным"
          },
          "price": {
            "type": "number",
            "format": "double",
            "description": "Цена позиции"
          },
          "total": {
            "type": "number",
            "format": "double",
            "description": "Сумма"
          },
          "promo_total": {
            "type": "number",
            "format": "double",
            "description": "Общая скидка"
          },
          "discount": {
            "type": "number",
            "format": "double",
            "description": "Скидка"
          },
          "customer_comment": {
            "type": "string",
            "nullable": true,
            "description": "Комментарий пользователя"
          },
          "product_in_stock": {
            "type": "boolean",
            "description": "Наличие товара в магазине"
          },
          "total_diff": {
            "type": "number",
            "format": "double"
          },
          "unit_price": {
            "type": "number",
            "format": "double",
            "description": "Цена за юнит"
          },
          "unit_quantity": {
            "type": "number",
            "format": "double",
            "description": "Количество юнитов"
          },
          "uuid": {
            "type": "string"
          },
          "product": {
            "description": "Информация о продукте",
            "$ref": "#/components/schemas/offer"
          }
        }
      },
      "meta_info": {
        "type": "object",
        "properties": {
          "current_page": {
            "type": "number"
          },
          "next_page": {
            "type": "number",
            "nullable": true
          },
          "total_pages": {
            "type": "number"
          },
          "per_page": {
            "type": "number",
            "nullable": true
          },
          "total_count": {
            "type": "number"
          }
        }
      },
      "next_delivery": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "ID слота доставки",
            "nullable": false
          },
          "store_id": {
            "type": "integer",
            "description": "ID магазина",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double",
            "description": "Стоимость доставки",
            "nullable": false
          },
          "summary": {
            "type": "string"
          },
          "starts_at": {
            "type": "string",
            "format": "date-time",
            "description": "Время начала слота доставки",
            "nullable": false
          },
          "ends_at": {
            "type": "string",
            "format": "date-time",
            "description": "Время окончания слота доставки",
            "nullable": false
          },
          "express_delivery": {
            "type": "boolean",
            "description": "Быстрая доставка"
          },
          "delivery_forecast_text": {
            "type": "string",
            "nullable": true,
            "description": "Интервал доставки в формате \"10–25 мин\""
          },
          "kind": {
            "type": "string",
            "nullable": true,
            "description": "Способ доставки"
          }
        }
      },
      "offer": {
        "type": "object",
        "required": [
          "id",
          "sku",
          "active",
          "retailer_sku",
          "retailer_sku",
          "name",
          "price",
          "original_price",
          "discount",
          "human_volume",
          "volume",
          "volume_type",
          "items_per_pack",
          "discount_ends_at",
          "discount_ends_at",
          "price_type",
          "grams_per_unit",
          "unit_price",
          "original_unit_price",
          "promo_badge_ids",
          "images",
          "requirements",
          "labels",
          "score"
        ],
        "properties": {
          "id": {
            "type": "integer"
          },
          "sku": {
            "type": "string",
            "description": "Артикул"
          },
          "active": {
            "type": "boolean",
            "description": "Признак активности оффера"
          },
          "retailer_sku": {
            "type": "string",
            "description": "Артикул у ритейлера"
          },
          "name": {
            "type": "string",
            "description": "Название товара"
          },
          "price": {
            "type": "number",
            "format": "double",
            "description": "Цена продукта c учетом скидки"
          },
          "original_price": {
            "type": "number",
            "format": "double",
            "description": "Цена продукта без скидок"
          },
          "discount": {
            "type": "number",
            "format": "double",
            "description": "Скидка"
          },
          "human_volume": {
            "type": "string",
            "description": "Человекочитаемое представление объема товара"
          },
          "volume": {
            "type": "number",
            "format": "double",
            "description": "Значение объема"
          },
          "volume_type": {
            "type": "string",
            "description": "Единица измерения объема (литры, килограммы, граммы, упаковки и тп)"
          },
          "items_per_pack": {
            "type": "integer",
            "description": "Кол-во штук в упаковке. Имеет смысл только для price_type = ‘per_pack’, для остальных равно 1"
          },
          "discount_ends_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Время до которого действует скидка"
          },
          "price_type": {
            "type": "string",
            "enum": [
              "per_item",
              "per_pack",
              "per_kilo",
              "per_package"
            ],
            "description": "Тип прайсера товара* per_item - штучные товары* per_pack - товары в большой упаковке, например 12 банок колы* per_kilo - весовой товар на развес* per_package - весовой товар фасованный, например пакет картошки 5кг, 300г фасованных помидоров"
          },
          "grams_per_unit": {
            "type": "integer",
            "description": "Количество грамм в item. Используется в реализации шага добавления весовых товаров в корзину"
          },
          "unit_price": {
            "type": "number",
            "format": "double",
            "description": "Цена за юнит c учетом скидки. По прайсерам: * per_item - цена за штуку, совпадает с price * per_pack - цена за всю упаковку, в price цена за 1 элемент в упаковке* per_kilo - цена за 1кг, в price цена за шаг* per_package - цена за 1кг, в price цена за упаковку"
          },
          "original_unit_price": {
            "type": "number",
            "format": "double",
            "description": "Цена за юнит без учета скидок"
          },
          "promo_badge_ids": {
            "type": "array",
            "items": {
              "type": "integer"
            },
            "description": "Идентификаторы промо-бэйджей"
          },
          "images": {
            "type": "array",
            "description": "Изображения",
            "items": {
              "$ref": "#/components/schemas/image"
            }
          },
          "requirements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/requirement"
            }
          },
          "related_products": {
            "type": "array",
            "deprecated": true
          },
          "labels": {
            "type": "array",
            "default": [

            ],
            "description": "?",
            "items": {
              "type": "integer"
            }
          },
          "score": {
            "type": "number",
            "format": "double",
            "nullable": true,
            "description": "?"
          },
          "description": {
            "type": "string"
          },
          "score_details": {
            "type": "object",
            "properties": {
              "feedback_count": {
                "type": "integer",
                "nullable": true
              },
              "feedback_source": {
                "type": "string",
                "nullable": true
              },
              "comment_count": {
                "type": "integer",
                "nullable": true
              }
            }
          },
          "properties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/property"
            }
          },
          "main_taxon": {
            "$ref": "#/components/schemas/taxon"
          }
        }
      },
      "order": {
        "type": "object",
        "properties": {
          "number": {
            "type": "string",
            "description": "Номер заказа"
          },
          "total": {
            "type": "number",
            "format": "double",
            "description": "Итоговая сумма заказа"
          },
          "item_count": {
            "type": "integer",
            "description": "Общее количество товаров в заказе"
          },
          "item_count_in_stock": {
            "type": "integer"
          },
          "item_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма всех позиций заказа, без скидки"
          },
          "item_discount_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма скидки на позиции заказа"
          },
          "ship_total": {
            "type": "number",
            "format": "double",
            "description": "Стоимость доставки"
          },
          "adjustment_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма надбавки к заказу"
          },
          "promo_total": {
            "type": "number",
            "float": "double",
            "description": "Сумма промо"
          },
          "sber_spasibo_total": {
            "nullable": true,
            "type": "number",
            "format": "double",
            "description": "Сумма СберСпасибо"
          },
          "shipment_state": {
            "type": "string",
            "nullable": true,
            "description": "Статус доставки"
          },
          "shipping_method_kind": {
            "type": "string",
            "description": "Способ доставки"
          },
          "payment_state": {
            "type": "string",
            "nullable": true,
            "description": "Статус оплаты"
          },
          "special_instructions": {
            "type": "string",
            "nullable": true,
            "description": "Примечание к заказу"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Дата создания заказа"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Дата обновления заказа"
          },
          "completed_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Дата оформления заказа"
          },
          "email": {
            "type": "string",
            "description": "Контактный имейл"
          },
          "uuid": {
            "type": "string",
            "description": "Уникальный идентификатор заказа"
          },
          "total_weight": {
            "type": "integer",
            "description": "Сумарный вес заказа"
          },
          "discounts": {
            "type": "array",
            "default": [

            ],
            "description": "Скидки",
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string",
                  "description": "Наименование скидки"
                },
                "type": {
                  "type": "string",
                  "description": "Тип скидки"
                },
                "amount": {
                  "type": "number",
                  "format": "double",
                  "description": "Сумма скидки"
                }
              }
            }
          },
          "address": {
            "type": "object",
            "description": "Адрес доставки",
            "$ref": "#/components/schemas/address"
          },
          "payment": {
            "$ref": "#/components/schemas/nullable_payment"
          },
          "replacement_policy": {
            "nullable": true,
            "description": "Способ замены товаров",
            "$ref": "#/components/schemas/nullable_replacement_policy"
          },
          "shipments": {
            "type": "array",
            "description": "Данные о доставках и товарах",
            "items": {
              "$ref": "#/components/schemas/shipment"
            }
          },
          "promotion_codes": {
            "type": "array",
            "default": [

            ],
            "description": "Список примененных промокодов",
            "items": {
              "$ref": "#/components/schemas/promotion_code"
            }
          },
          "company": {
            "nullable": true,
            "description": "Компания, к которой прикреплен заказ",
            "$ref": "#/components/schemas/company"
          }
        }
      },
      "order_for_additional_order": {
        "type": "object",
        "properties": {
          "number": {
            "type": "string",
            "description": "Номер заказа"
          },
          "total": {
            "type": "number",
            "format": "double",
            "description": "Итоговая сумма заказа"
          },
          "item_count": {
            "type": "integer",
            "description": "Общее количество товаров в заказе"
          },
          "item_count_in_stock": {
            "type": "integer"
          },
          "item_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма всех позиций заказа, без скидки"
          },
          "item_discount_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма скидки на позиции заказа"
          },
          "ship_total": {
            "type": "number",
            "format": "double",
            "description": "Стоимость доставки"
          },
          "adjustment_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма надбавки к заказу"
          },
          "promo_total": {
            "type": "number",
            "float": "double",
            "description": "Сумма промо"
          },
          "sber_spasibo_total": {
            "nullable": true,
            "type": "number",
            "format": "double",
            "description": "Сумма СберСпасибо"
          },
          "shipment_state": {
            "type": "string",
            "nullable": true,
            "description": "Статус доставки"
          },
          "shipping_method_kind": {
            "type": "string",
            "description": "Способ доставки"
          },
          "payment_state": {
            "type": "string",
            "nullable": true,
            "description": "Статус оплаты"
          },
          "special_instructions": {
            "type": "string",
            "nullable": true,
            "description": "Примечание к заказу"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Дата создания заказа"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Дата обновления заказа"
          },
          "completed_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Дата оформления заказа"
          },
          "email": {
            "type": "string",
            "description": "Контактный имейл"
          },
          "uuid": {
            "type": "string",
            "description": "Уникальный идентификатор заказа"
          },
          "total_weight": {
            "type": "integer",
            "description": "Сумарный вес заказа"
          },
          "discounts": {
            "type": "array",
            "default": [

            ],
            "description": "Скидки",
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string",
                  "description": "Наименование скидки"
                },
                "type": {
                  "type": "string",
                  "description": "Тип скидки"
                },
                "amount": {
                  "type": "number",
                  "format": "double",
                  "description": "Сумма скидки"
                }
              }
            }
          },
          "deliveries_info": {
            "description": "Информация по доставкам для юзера",
            "type": "object",
            "nullable": true,
            "properties": {
              "text": {
                "description": "Текст о количестве бесплатных доставок",
                "type": "string"
              }
            }
          },
          "address": {
            "type": "object",
            "description": "Адрес доставки",
            "$ref": "#/components/schemas/address"
          },
          "replacement_policy": {
            "nullable": true,
            "description": "Способ замены товаров",
            "$ref": "#/components/schemas/replacement_policy"
          },
          "shipments": {
            "type": "array",
            "description": "Данные о доставках и товарах",
            "items": {
              "$ref": "#/components/schemas/shipment_for_additional_order"
            }
          },
          "promotion_codes": {
            "type": "array",
            "default": [

            ],
            "description": "Список примененных промокодов",
            "items": {
              "$ref": "#/components/schemas/promotion_code"
            }
          }
        }
      },
      "order_update_body": {
        "type": "object",
        "properties": {
          "pickup_store_id": {
            "type": "integer",
            "description": "Id магазина самовывоза"
          },
          "email": {
            "type": "string",
            "description": "Контактный имейл"
          },
          "replacement_policy_id": {
            "type": "integer",
            "description": "Id способоза замен товаров"
          },
          "address_attributes": {
            "$ref": "#/components/schemas/address_attributes"
          },
          "shipments_attributes": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer"
                },
                "delivery_window_id": {
                  "type": "integer",
                  "description": "ID окна доставки"
                },
                "express_delivery": {
                  "type": "boolean",
                  "description": " Быстрая доставка"
                },
                "checkout": {
                  "type": "boolean",
                  "description": "Чекаут"
                }
              },
              "required": [
                "id",
                "delivery_window_id"
              ]
            }
          },
          "personal_data_exchange_permissions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "personal_data_exchange_agreement_id": {
                  "type": "integer",
                  "description": "Id соглашения о передаче персональных данных"
                }
              }
            }
          },
          "phone_attributes": {
            "type": "object",
            "properties": {
              "value": {
                "type": "string",
                "description": "Контактный номер телефона"
              }
            }
          },
          "payment_attributes": {
            "type": "object",
            "properties": {
              "payment_tool_id": {
                "type": "integer",
                "description": "id способа оплаты"
              },
              "sber_spasibo_amount": {
                "type": "integer",
                "description": "Сумма СберСпасибо"
              }
            },
            "required": [
              "payment_tool_id"
            ]
          }
        },
        "required": [
          "payment_attributes",
          "replacement_policy_id",
          "shipments_attributes"
        ]
      },
      "payment_method": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string",
            "description": "Название метода оплаты"
          },
          "description": {
            "type": "string",
            "description": "Описание метода оплаты"
          },
          "type": {
            "type": "string",
            "description": "Тип метода оплаты"
          },
          "min_order_amount": {
            "type": "integer",
            "description": "Минимальная сумма заказа",
            "nullable": true
          },
          "max_order_amount": {
            "type": "integer",
            "description": "Максимальная сумма заказа",
            "nullable": true
          },
          "confirm_button_text": {
            "type": "string",
            "description": "Текст для кнопки подтверждения",
            "nullable": true
          }
        }
      },
      "payment": {
        "type": "object",
        "description": "Данные об оплате",
        "properties": {
          "number": {
            "type": "string",
            "description": "Номер платежа"
          },
          "state": {
            "type": "string",
            "description": "Cостояние платежа"
          },
          "is_finalization_needed": {
            "type": "boolean",
            "description": "Требуется ли оформление платежа"
          },
          "finalization_url": {
            "type": "string",
            "description": "url перехода для оформления платежа",
            "nullable": true
          }
        }
      },
      "nullable_payment": {
        "type": "object",
        "description": "Данные об оплате",
        "properties": {
          "number": {
            "type": "string",
            "description": "Номер платежа"
          },
          "state": {
            "type": "string",
            "description": "Cостояние платежа"
          },
          "is_finalization_needed": {
            "type": "boolean",
            "description": "Требуется ли оформление платежа"
          },
          "finalization_url": {
            "type": "string",
            "description": "url перехода для оформления платежа",
            "nullable": true
          }
        },
        "nullable": true
      },
      "payment_tools": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string",
            "description": "Название способа оплаты"
          },
          "type": {
            "type": "string",
            "description": "Тип способа оплаты"
          },
          "source": {
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "Тип платежного средства",
                    "enum": [
                      "credit_card"
                    ]
                  },
                  "credit_card": {
                    "$ref": "#/components/schemas/credit_card"
                  }
                }
              },
              {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "Тип платежного средства",
                    "enum": [
                      "company_document"
                    ]
                  },
                  "company_document": {
                    "$ref": "#/components/schemas/company_document"
                  }
                }
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "personal_data_exchange_agreement": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "title": {
            "type": "string"
          },
          "disclaimer": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "disclaimer"
        ]
      },
      "feedback": {
        "type": "object",
        "nullable": true,
        "required": [
          "id",
          "source",
          "is_mine",
          "can_delete",
          "score",
          "pros",
          "cons",
          "text",
          "status",
          "created_at",
          "username"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "source": {
            "type": "string",
            "description": "Источник отзыва"
          },
          "is_mine": {
            "type": "boolean",
            "description": "Принадлежит ли отзыв пользователю"
          },
          "can_delete": {
            "type": "boolean",
            "description": "Может ли пользователь удалить отзыв"
          },
          "score": {
            "type": "number",
            "description": "Рейтинг продукта"
          },
          "pros": {
            "type": "string",
            "description": "Положительные стороны продукта"
          },
          "cons": {
            "type": "string",
            "description": "Отрицательные стороны продукта"
          },
          "text": {
            "type": "string",
            "description": "Комментарий о продукте"
          },
          "status": {
            "type": "string",
            "enum": [
              "on-review",
              "blocked",
              "approved"
            ],
            "description": "Человекочитаемый статус отзыва* on-review - отзыв на ревью модератора* blocked - отзыв был блокирован модератором* approved - отзыв был одобрен модератором"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Дата создания отзыва"
          },
          "username": {
            "type": "string",
            "description": "Имя пользователя, оставившего отзыв"
          }
        }
      },
      "promo_badge": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "ID бейджа"
          },
          "type": {
            "type": "string",
            "description": "Тип"
          },
          "attributes": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Имя"
              },
              "options": {
                "type": "object",
                "properties": {
                  "active": {
                    "type": "object",
                    "properties": {
                      "title": {
                        "type": "string",
                        "description": "Текст бейджа"
                      },
                      "title_short": {
                        "type": "string"
                      },
                      "tooltip": {
                        "type": "string",
                        "description": "Текст тултипа для бейджа"
                      },
                      "url": {
                        "type": "string",
                        "description": "Ссылка, по которой осуществляется переход при нажатии на кнопку"
                      },
                      "button_text": {
                        "type": "string",
                        "description": "Текст кнопки"
                      }
                    }
                  },
                  "inactive": {
                    "type": "object",
                    "properties": {
                      "title": {
                        "type": "string",
                        "description": "Текст бейджа"
                      },
                      "title_short": {
                        "type": "string"
                      },
                      "tooltip": {
                        "type": "string",
                        "description": "Текст тултипа для бейджа"
                      },
                      "url": {
                        "type": "string",
                        "description": "Ссылка, по которой осуществляется переход при нажатии на кнопку"
                      },
                      "button_text": {
                        "type": "string",
                        "description": "Текст кнопки"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "promotion_code": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string"
          },
          "description": {
            "nullable": true,
            "type": "string"
          }
        }
      },
      "property": {
        "type": "object",
        "required": [
          "name",
          "presentation",
          "value"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Обозначение"
          },
          "presentation": {
            "type": "string",
            "description": "Отображаемое наименование"
          },
          "value": {
            "type": "string",
            "description": "Значение"
          }
        }
      },
      "referral_program": {
        "type": "object",
        "propertires": {
          "ambassador_instacoins": {
            "description": "Сумма бонусов за приведенного друга",
            "type": "float"
          },
          "referral_instacoins": {
            "description": "Сумма бонусов, которую получит друг",
            "type": "float"
          },
          "min_order_amount": {
            "description": "Минимальная сумма заказа для реферала",
            "type": "float"
          },
          "short_terms": {
            "description": "Правила получения бонусов",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "emoji": {
                  "description": "Эмоджи",
                  "type": "emoji"
                },
                "icon_url": {
                  "description": "URL иконки",
                  "type": "string",
                  "nullable": true
                },
                "html": {
                  "description": "Описание правила. Содержит теги HTML для форматирования",
                  "type": "string"
                }
              },
              "required": [
                "emoji",
                "icon_url",
                "html"
              ]
            }
          },
          "links": {
            "description": "Ссылки на правила участия в реферальной программе",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "description": "Тип правила",
                  "type": "string"
                },
                "name": {
                  "description": "Наименование ссылки на правила",
                  "type": "string"
                },
                "url": {
                  "description": "Адрес ссылки",
                  "type": "string"
                }
              },
              "required": [
                "type",
                "name",
                "url"
              ]
            }
          }
        },
        "required": [
          "ambassador_instacoins",
          "referral_instacoins",
          "min_order_amount",
          "short_terms",
          "links"
        ]
      },
      "replacement_policy": {
        "type": "object",
        "properties": {
          "id": {
            "description": "ID политики замены",
            "type": "integer"
          },
          "description": {
            "description": "Описание",
            "type": "string"
          }
        },
        "required": [
          "id",
          "description"
        ]
      },
      "nullable_replacement_policy": {
        "type": "object",
        "properties": {
          "id": {
            "description": "ID политики замены",
            "type": "integer"
          },
          "description": {
            "description": "Описание",
            "type": "string"
          }
        },
        "required": [
          "id",
          "description"
        ],
        "nullable": true
      },
      "requirement": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "title": {
            "type": "string"
          }
        }
      },
      "retailer_agreement": {
        "type": "object",
        "properties": {
          "agreement_type": {
            "type": "string"
          },
          "url": {
            "type": "string"
          }
        }
      },
      "retailer_appearance": {
        "type": "object",
        "properties": {
          "background_color": {
            "type": "string"
          },
          "image_color": {
            "type": "string"
          },
          "black_theme": {
            "type": "boolean"
          },
          "logo_image": {
            "type": "string"
          },
          "side_image": {
            "type": "string",
            "nullable": true
          },
          "mini_logo_image": {
            "type": "string"
          }
        }
      },
      "retailer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string",
            "description": "Наименование ритейлера"
          },
          "slug": {
            "type": "string"
          },
          "color": {
            "type": "string",
            "description": "Цвет ритейлера"
          },
          "logo_background_color": {
            "type": "string",
            "description": "Фоновый цвет"
          },
          "logo": {
            "type": "string",
            "description": "Лого ритейлера"
          },
          "available": {
            "type": "boolean",
            "description": "Флаг доступности"
          },
          "environment": {
            "type": "string",
            "description": "Окружение"
          },
          "retailer_agreement": {
            "$ref": "#/components/schemas/retailer_agreement"
          },
          "appearance": {
            "description": "Внешний вид",
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/retailer_appearance"
              }
            ]
          },
          "requirements": {
            "type": "array",
            "default": [

            ],
            "items": {
              "$ref": "#/components/schemas/requirement"
            }
          }
        }
      },
      "review": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "rate": {
            "type": "integer"
          },
          "comment": {
            "type": "string"
          },
          "call_back": {
            "type": "boolean",
            "nullable": true
          },
          "images": {
            "type": "array"
          },
          "issues": {
            "type": "array"
          }
        }
      },
      "reviewable_shipment": {
        "type": "object",
        "properties": {
          "number": {
            "type": "string",
            "description": "Номер доставки"
          },
          "order": {
            "type": "object",
            "description": "Заказ",
            "properties": {
              "number": {
                "type": "string",
                "description": "Номер Заказа"
              }
            },
            "required": [
              "number"
            ]
          },
          "delivery_window": {
            "description": "Окно доставки",
            "$ref": "#/components/schemas/delivery_window"
          },
          "retailer": {
            "description": "Информация о ритейлере",
            "$ref": "#/components/schemas/retailer"
          },
          "shipping_team_members": {
            "type": "array",
            "default": [

            ],
            "items": {
              "$ref": "#/components/schemas/shipping_team_member"
            }
          },
          "review_issues": {
            "type": "array",
            "default": [

            ],
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "number",
                  "description": "Идентификатор"
                },
                "position": {
                  "type": "number",
                  "description": "Позиция"
                },
                "description": {
                  "type": "string",
                  "description": "Описание"
                },
                "comment_needed": {
                  "type": "boolean",
                  "description": "Флаг обязательного комментария"
                },
                "min_rate": {
                  "type": "number",
                  "description": "Минимальная оценка для показа"
                },
                "max_rate": {
                  "type": "number",
                  "description": "Максимальная оценка для показа"
                }
              }
            }
          }
        }
      },
      "session": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string",
            "example": "5596fc62249307fb1aa32f3d7701861b"
          },
          "expires_at": {
            "type": "datetime",
            "example": "1970-01-01 00:00:01"
          },
          "is_valid": {
            "type": "boolean",
            "example": true
          }
        },
        "required": [
          "access_token",
          "expires_at",
          "is_valid"
        ]
      },
      "shipment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "number": {
            "type": "string",
            "description": "Номер доставки"
          },
          "cost": {
            "type": "number",
            "format": "double",
            "description": "Стоимость доставки(шипмента)"
          },
          "item_total": {
            "type": "number",
            "format": "double",
            "description": "Cтоимость всех позиций заказа"
          },
          "item_discount_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма скидки на позиции заказа"
          },
          "item_without_discount_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма позиций заказа без скидок"
          },
          "total": {
            "type": "number",
            "format": "double",
            "description": "Cуммарная стоимость всех позиций, доставки и скидок"
          },
          "state": {
            "type": "string",
            "description": "Состояние"
          },
          "store": {
            "type": "object",
            "nullable": true,
            "description": "Магазин",
            "properties": {
              "id": {
                "type": "integer",
                "description": "Идентификатор"
              },
              "name": {
                "type": "string",
                "description": "Название"
              },
              "uuid": {
                "type": "string",
                "description": "Идентификатор"
              },
              "location": {
                "$ref": "#/components/schemas/store_location"
              }
            },
            "required": [
              "id",
              "name",
              "uuid",
              "location"
            ]
          },
          "alerts": {
            "type": "array",
            "default": [

            ],
            "description": "Cписок предупреждений об ошибках в заказе",
            "items": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                },
                "full_message": {
                  "type": "string"
                },
                "type": {
                  "type": "string"
                },
                "key": {
                  "type": "string"
                },
                "details": {
                  "type": "object",
                  "properties": {
                    "min_amount": {
                      "type": "number",
                      "format": "double"
                    },
                    "remaining_amount": {
                      "type": "number",
                      "format": "double"
                    }
                  }
                }
              }
            }
          },
          "promotions": {
            "type": "array",
            "default": [

            ],
            "description": "Cписок предложенй о скидках и пр",
            "items": {
              "type": "object",
              "properties": {
                "key": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                },
                "details": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "number",
                      "format": "double"
                    },
                    "discount": {
                      "type": "number",
                      "format": "double"
                    }
                  }
                }
              }
            }
          },
          "next_deliveries": {
            "type": "array",
            "description": "Предлагаемые окна доставки",
            "items": {
              "$ref": "#/components/schemas/next_delivery"
            }
          },
          "driver_name": {
            "type": "string",
            "nullable": true,
            "description": "Имя водителя"
          },
          "driver_phone": {
            "type": "string",
            "nullable": true,
            "description": "Телефон водителя"
          },
          "total_weight": {
            "type": "integer",
            "description": "Вес заказа"
          },
          "can_cancel": {
            "type": "boolean",
            "description": "Признак возможности отмены заказа"
          },
          "discounts": {
            "type": "array",
            "description": "Скидки",
            "default": [

            ],
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "type": {
                  "type": "string"
                },
                "amount": {
                  "type": "number",
                  "format": "double"
                }
              }
            }
          },
          "item_count": {
            "type": "integer",
            "description": "Общее количество товаров"
          },
          "item_count_in_stock": {
            "type": "integer"
          },
          "checkout": {
            "type": "boolean"
          },
          "line_items": {
            "type": "array",
            "description": "Список позиций",
            "items": {
              "$ref": "#/components/schemas/line_item"
            }
          },
          "shipping_team_members": {
            "type": "array",
            "default": [

            ],
            "items": {
              "$ref": "#/components/schemas/shipping_team_member"
            }
          },
          "delivery_window": {
            "description": "Окно доставки",
            "$ref": "#/components/schemas/delivery_window"
          },
          "retailer": {
            "description": "Информация о ритейлере",
            "$ref": "#/components/schemas/retailer"
          },
          "external_partners_service": {
            "type": "object",
            "nullable": true,
            "description": "Сервис партнера предоставляющий скидку на заказ",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string",
                "description": "Наименование сервиса"
              },
              "text": {
                "type": "string"
              },
              "link": {
                "type": "string"
              },
              "logo_url": {
                "type": "string"
              },
              "discount_type": {
                "type": "string",
                "description": "Тип скидки"
              }
            }
          },
          "payment": {
            "description": "Данные об оплате",
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/payment"
              }
            ]
          },
          "requirements": {
            "type": "array",
            "default": [

            ],
            "items": {
              "$ref": "#/components/schemas/requirement"
            }
          }
        }
      },
      "shipment_for_additional_order": {
        "type": "object",
        "required": [
          "id",
          "number",
          "shipment_merge_targets"
        ],
        "properties": {
          "id": {
            "type": "integer"
          },
          "number": {
            "type": "string",
            "description": "Номер доставки"
          },
          "cost": {
            "type": "number",
            "format": "double",
            "description": "Стоимость доставки(шипмента)"
          },
          "item_total": {
            "type": "number",
            "format": "double",
            "description": "Cтоимость всех позиций заказа"
          },
          "item_discount_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма скидки на позиции заказа"
          },
          "item_without_discount_total": {
            "type": "number",
            "format": "double",
            "description": "Сумма позиций заказа без скидок"
          },
          "total": {
            "type": "number",
            "format": "double",
            "description": "Cуммарная стоимость всех позиций, доставки и скидок"
          },
          "state": {
            "type": "string",
            "description": "Состояние"
          },
          "alerts": {
            "type": "array",
            "default": [

            ],
            "description": "Cписок предупреждений об ошибках в заказе",
            "items": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                },
                "full_message": {
                  "type": "string"
                },
                "type": {
                  "type": "string"
                },
                "key": {
                  "type": "string"
                },
                "details": {
                  "type": "object",
                  "properties": {
                    "min_amount": {
                      "type": "number",
                      "format": "double"
                    },
                    "remaining_amount": {
                      "type": "number",
                      "format": "double"
                    }
                  }
                }
              }
            }
          },
          "promotions": {
            "type": "array",
            "default": [

            ],
            "description": "Cписок предложенй о скидках и пр",
            "items": {
              "type": "object",
              "properties": {
                "key": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                },
                "details": {
                  "type": "object",
                  "properties": {
                    "amount": {
                      "type": "number",
                      "format": "double"
                    },
                    "discount": {
                      "type": "number",
                      "format": "double"
                    }
                  }
                }
              }
            }
          },
          "next_deliveries": {
            "type": "array",
            "description": "Предлагаемые окна доставки",
            "items": {
              "$ref": "#/components/schemas/next_delivery"
            }
          },
          "driver_name": {
            "type": "string",
            "nullable": true,
            "description": "Имя водителя"
          },
          "driver_phone": {
            "type": "string",
            "nullable": true,
            "description": "Телефон водителя"
          },
          "total_weight": {
            "type": "integer",
            "description": "Вес заказа"
          },
          "can_cancel": {
            "type": "boolean",
            "description": "Признак возможности отмены заказа"
          },
          "discounts": {
            "type": "array",
            "description": "Скидки",
            "default": [

            ],
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "type": {
                  "type": "string"
                },
                "amount": {
                  "type": "number",
                  "format": "double"
                }
              }
            }
          },
          "item_count": {
            "type": "integer",
            "description": "Общее количество товаров"
          },
          "item_count_in_stock": {
            "type": "integer"
          },
          "checkout": {
            "type": "boolean"
          },
          "line_items": {
            "type": "array",
            "description": "Список позиций",
            "items": {
              "$ref": "#/components/schemas/line_item"
            }
          },
          "shipping_team_members": {
            "type": "array",
            "default": [

            ],
            "items": {
              "$ref": "#/components/schemas/shipping_team_member"
            }
          },
          "delivery_window": {
            "description": "Окно доставки",
            "$ref": "#/components/schemas/delivery_window"
          },
          "retailer": {
            "description": "Информация о ритейлере",
            "$ref": "#/components/schemas/retailer"
          },
          "external_partners_service": {
            "type": "object",
            "nullable": true,
            "description": "Сервис партнера предоставляющий скидку на заказ",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string",
                "description": "Наименование сервиса"
              },
              "text": {
                "type": "string"
              },
              "link": {
                "type": "string"
              },
              "logo_url": {
                "type": "string"
              },
              "discount_type": {
                "type": "string",
                "description": "Тип скидки"
              }
            }
          },
          "payment": {
            "description": "Данные об оплате",
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/payment"
              }
            ]
          },
          "requirements": {
            "type": "array",
            "default": [

            ],
            "items": {
              "$ref": "#/components/schemas/requirement"
            }
          },
          "shipment_merge_targets": {
            "type": "array",
            "default": [

            ],
            "items": {
              "type": "object",
              "required": [
                "id",
                "number",
                "store_id",
                "delivery_window",
                "order",
                "merge"
              ],
              "properties": {
                "id": {
                  "type": "integer",
                  "example": 1
                },
                "number": {
                  "type": "string",
                  "example": "H77412278573"
                },
                "store_id": {
                  "type": "integer",
                  "example": 1
                },
                "delivery_window": {
                  "$ref": "#/components/schemas/delivery_window"
                },
                "order": {
                  "type": "object",
                  "nullable": false,
                  "required": [
                    "number"
                  ],
                  "properties": {
                    "number": {
                      "type": "string",
                      "nullable": false
                    }
                  }
                },
                "merge": {
                  "$ref": "#/components/schemas/shipment_merge"
                }
              }
            }
          },
          "delay": {
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "text": {
                    "type": "string",
                    "example": "Задерживаемся, но очень торопимся"
                  }
                },
                "required": [
                  "text"
                ]
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "shipment_merge": {
        "type": "object",
        "nullable": true,
        "required": [
          "possible",
          "impossibility_reason"
        ],
        "properties": {
          "possible": {
            "type": "boolean",
            "nullable": false,
            "example": false
          },
          "impossibility_reason": {
            "type": "object",
            "nullable": true,
            "properties": {
              "code": {
                "type": "string",
                "nullable": true,
                "example": "too_heavy"
              },
              "title": {
                "type": "string",
                "nullable": true,
                "example": "Заказ принят"
              },
              "description": {
                "type": "string",
                "nullable": true,
                "example": "Заказ тяжёлый, добавить товары не получится"
              }
            }
          }
        }
      },
      "shipping_team_member": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "role_description": {
            "type": "string"
          },
          "tips_link_url": {
            "type": "string"
          }
        }
      },
      "sort_item": {
        "type": "object",
        "required": [
          "key",
          "name",
          "order"
        ],
        "properties": {
          "key": {
            "type": "string",
            "description": "Имя параметра в запросе"
          },
          "name": {
            "type": "string",
            "description": "Название сортировки"
          },
          "order": {
            "type": "string",
            "description": "Направление сортировки"
          },
          "active": {
            "type": "boolean",
            "description": "Активность сортировки"
          }
        }
      },
      "store_location": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "city": {
            "type": "string",
            "description": "Населенный пункт"
          },
          "street": {
            "type": "string",
            "description": "Улица"
          },
          "bulding": {
            "type": "string",
            "description": "Дом"
          },
          "full_address": {
            "type": "string",
            "description": "Адрес"
          },
          "lon": {
            "type": "number",
            "format": "double",
            "description": "Долгота"
          },
          "lat": {
            "type": "number",
            "format": "double",
            "description": "Широта"
          }
        }
      },
      "top_phrase": {
        "type": "object",
        "required": [
          "name",
          "icon"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "icon": {
            "$ref": "#/components/schemas/image"
          }
        }
      },
      "user": {
        "type": "object",
        "properties": {
          "id": {
            "description": "Идентификатор пользователя",
            "type": "string"
          },
          "email": {
            "description": "Имейл пользователя",
            "type": "string"
          },
          "display_email": {
            "description": "Отображаемый имейл",
            "type": "string"
          },
          "first_name": {
            "description": "Имя пользователя",
            "type": "string"
          },
          "last_name": {
            "description": "Фамилия пользователя",
            "type": "string"
          },
          "has_confirmed_phone": {
            "description": "Флаг наличия подтвержденного номера телефона",
            "type": "boolean"
          },
          "privacy_terms": {
            "description": "Согласие на обработку персональных данных",
            "type": "boolean"
          },
          "promo_terms_accepted": {
            "description": "Согласие на рекламную рассылку",
            "type": "boolean"
          },
          "promo_terms_changed_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "current_phone": {
            "description": "Текущий номер телефона",
            "type": "string",
            "nullable": true
          },
          "b2b": {
            "description": "Признак бизнес-пользователя",
            "type": "boolean",
            "nullable": true
          },
          "config": {
            "type": "object",
            "properties": {
              "send_emails": {
                "description": "Согласие на отправку имейлов",
                "type": "boolean"
              },
              "send_sms": {
                "description": "Согласие на отправку смс",
                "type": "boolean"
              },
              "send_push": {
                "description": "Согласие на отправку пуш уведомлений",
                "type": "boolean"
              },
              "default_bonus_card_id": {
                "description": "Идентификатор бонусной карты используемой по умолчанию",
                "type": "integer",
                "nullable": true
              }
            },
            "required": [
              "send_emails",
              "send_sms",
              "send_push",
              "default_bonus_card_id"
            ]
          }
        },
        "required": [
          "id",
          "email",
          "display_email",
          "first_name",
          "last_name",
          "has_confirmed_phone",
          "privacy_terms",
          "promo_terms_accepted",
          "promo_terms_changed_at",
          "current_phone",
          "config"
        ]
      }
    }
  }
}