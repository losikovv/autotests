task debug(type: Test) {
    useTestNG() {
        options {
            listeners.add("ru.instamart.api.listener.ApiExecutionListener")
            listeners.add("ru.instamart.api.listener.ApiTestSuiteListener")
        }
        suites 'src/test/resources/suite/debug.xml'
        includeGroups 'debug'
    }
}

task localRun(type: Test) {
    useTestNG() {
        options {
            listeners.add("ru.instamart.api.listener.ApiExecutionListener")
            listeners.add("ru.instamart.api.listener.ApiTestSuiteListener")
        }
    }
}

task generateData(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/util.xml'
        includeGroups 'generate-data'
    }
}

task generateDataUI(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/util.xml'
        includeGroups 'generate-data-ui'
    }
}

task autoMr(type: Test) {
    useTestNG() {
        suites 'src/test/resources/suite/mr.xml'
        includeGroups 'MRAutoCheck'
    }
}

task ciRunApi(type: Test) {
    def CI_GROUP = System.getenv('CI_GROUP')

    if (CI_GROUP == null) {
        println('U miss CI_GROUP')
        return
    }

    useTestNG() {
        suites "src/test/resources/suite/all.xml"
        includeGroups CI_GROUP
    }
}